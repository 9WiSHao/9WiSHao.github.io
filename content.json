{"meta":{"title":"WiSHao'blog","subtitle":"WiSHaoçš„åšå®¢","description":"ç»ˆäºå¼€å§‹è®°ç‚¹ä¸œè¥¿","author":"WiSHao","url":"http://wishao.me","root":"/"},"pages":[{"title":"","date":"2023-12-08T13:22:50.763Z","updated":"2023-07-11T01:55:09.000Z","comments":true,"path":"404.html","permalink":"http://wishao.me/404.html","excerpt":"","text":"404 å¾ˆæŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨ å¯èƒ½æ˜¯è¾“å…¥åœ°å€æœ‰è¯¯æˆ–è¯¥åœ°å€å·²è¢«åˆ é™¤"},{"title":"","date":"2023-12-08T13:22:50.764Z","updated":"2023-07-11T02:15:52.000Z","comments":true,"path":"about/index.html","permalink":"http://wishao.me/about/index.html","excerpt":"","text":"æˆ‘ å°å‰ç«¯ä¸€ä¸ªï¼Œè¢«åŸºå‹å‘å…¥é—¨ï¼Œä¸€å…¥é—¨æ·±ä¼¼æµ·ï¼Œä½†æ˜¯æ„å¤–è¿˜æŒºå–œæ¬¢ï¼Œå°±ä¸€ç›´åœ¨å­¦ éŸ³æ¸¸äººï¼Œè¿™æ˜¯æˆ‘çš„osuä¸»é¡µï¼Œä¸»ç©æˆ³æ³¡æ³¡ï¼Œçƒçƒosuå¤§ç”³å¸¦å¸¦ å…¶ä»–æ²¡ä»€ä¹ˆå¯è¯´çš„ã€‚è™½ç„¶è¯´ç°åœ¨çš„äº’è”ç½‘ä¸Šæ ¹æœ¬æ²¡æœ‰éšç§å¯è¨€ï¼Œä½†æ˜¯æˆ‘ä¹Ÿæ²¡æœ‰ä¹‰åŠ¡åœ¨è¿™åšæˆ‘çš„ç®€å†ã€‚ä¸ºæˆ‘ç•™ä¸‹æœ€åçš„ä¸€ä»½ç¥ç§˜ï¼Œå¥½å—ï¼Ÿè‹¥æƒ³çŸ¥é“æ›´å¤šï¼Œå¯ä»¥å»ç¿»æˆ‘çš„ç¤¾äº¤è´¦å·ã€‚ ç¢ç¢å¿µè™½è¯´è‡ªé«˜ä¸­æ¯•ä¸šçš„æš‘å‡å°±æƒ³æ­å»ºè‡ªå·±çš„åšå®¢äº†ï¼Œä½†æ˜¯åˆæœŸå®åœ¨æ˜¯æŠ€æœ¯ä¸è¶³ï¼Œè¿æ•™ç¨‹çœ‹ç€éƒ½è´¹åŠ²ï¼Œå°±ä¸äº†äº†ä¹‹ã€‚åæ¥å­¦ä¹ äº†ä¸€äº›çŸ¥è¯†ï¼Œå´æ·±é™·æˆ‘çš„å¼ºè¿«ç—‡ï¼Œæ‰¾ä¸åˆ°æˆ‘æ»¡æ„çš„ä¸»é¢˜ã€‚å°±åƒå†å²ä¸Šè®¸å¤šé‡å¤§äº‹ä»¶éƒ½æ˜¯ç”±æ„å¤–æ¨åŠ¨çš„ä¸€æ ·ï¼ŒæŸå¤©æœ‰ä¸å¯æŠ—åŠ›çªç„¶ç»™äº†æˆ‘ä¸€æ™šä¸Šçš„é™åˆ¶è®©æˆ‘å¿…é¡»æ­å»ºå¥½æˆ‘çš„åšå®¢ï¼Œæˆ‘å±…ç„¶åœ¨å‡ å°æ—¶å†…å®Œæˆäº†ä¸»é¢˜çš„æŒ‘é€‰ï¼Œä¸å¯æ€è®®ã€‚ å·®ä¸å¤šå°±è¿™æ ·äº†ï¼Œæˆ–è®¸æˆ‘å†™çš„ä¸œè¥¿ä¼šå¾ˆæ°´ï¼Œæ— æ‰€è°“äº†ï¼Œåæ­£æ²¡äººçœ‹ï¼Œæœ‰ä¸ªåœ°æ–¹æ”¾ç‚¹ä¸œè¥¿ä¹ŸæŒºå¥½ï¼Œä¹Ÿæ²¡æƒ³ç»™è°çœ‹ã€‚å¦‚æœä½ æ— æ„é—´ç¿»çœ‹åˆ°äº†æˆ‘çš„åšå®¢ï¼Œæ­å–œä½ ï¼Œæœ‰ç¼˜äººï¼Œæˆ–è®¸å¯ä»¥åŠ ä¸€ä¸‹æˆ‘çš„ç¤¾äº¤è´¦å·ï¼Ÿ"},{"title":"æˆ‘çš„æœ‹å‹ä»¬","date":"2023-12-08T13:22:50.764Z","updated":"2023-07-10T13:32:53.000Z","comments":true,"path":"friends/index.html","permalink":"http://wishao.me/friends/index.html","excerpt":"","text":"æ¬¢è¿æ§åœº"},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2023-12-08T13:22:50.764Z","updated":"2023-07-10T13:42:32.000Z","comments":true,"path":"tags/index.html","permalink":"http://wishao.me/tags/index.html","excerpt":"","text":"ç‚¹å‡»æŸ¥çœ‹å«æ­¤æ ‡ç­¾çš„æ–‡ç« "},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2023-12-08T13:22:50.764Z","updated":"2023-07-10T14:22:24.000Z","comments":true,"path":"categories/index.html","permalink":"http://wishao.me/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"uni-app æ”¯ä»˜å®å°ç¨‹åºå¼€å‘è¸©å‘è®°å½•","slug":"uni-app-æ”¯ä»˜å®å°ç¨‹åºå¼€å‘è¸©å‘è®°å½•","date":"2023-11-20T15:44:44.000Z","updated":"2023-12-08T13:24:31.137Z","comments":true,"path":"2023/11/20/uni-app-æ”¯ä»˜å®å°ç¨‹åºå¼€å‘è¸©å‘è®°å½•/","link":"","permalink":"http://wishao.me/2023/11/20/uni-app-%E6%94%AF%E4%BB%98%E5%AE%9D%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/","excerpt":"æ”¯ä»˜å®å°ç¨‹åºï¼Œ ios ä¸ŠéŸ³é¢‘æ’­æ”¾å¤±è´¥ã€DOM é­”æ”¹ã€ref å¼•ç”¨ã€å…åŸŸåè°ƒç”¨å¤±æ•ˆ ç­‰å„ç§å„æ ·çš„å‘ æˆ‘é€‰äº†ä¸¤ä¸ªåƒåœ¾å¹³å°ï¼Œè‡ªå·±è¸©äº†ä¸¤å€çš„å‘","text":"æ”¯ä»˜å®å°ç¨‹åºï¼Œ ios ä¸ŠéŸ³é¢‘æ’­æ”¾å¤±è´¥ã€DOM é­”æ”¹ã€ref å¼•ç”¨ã€å…åŸŸåè°ƒç”¨å¤±æ•ˆ ç­‰å„ç§å„æ ·çš„å‘ æˆ‘é€‰äº†ä¸¤ä¸ªåƒåœ¾å¹³å°ï¼Œè‡ªå·±è¸©äº†ä¸¤å€çš„å‘ 1ã€è¸©å‘ä¹‹ ios éŸ³é¢‘æ’­æ”¾å¤±æ•ˆå‘æ¯”å¦‚è¯´ä¸€ä¸ªç®€å•çš„ uniapp çš„éŸ³é¢‘æ’­æ”¾ï¼Œä¸‹é¢ä¿©å‡½æ•°ç»‘å®šåˆ°å¯¹åº”çš„æ’­æ”¾åœæ­¢æŒ‰é’®ä¸Šã€‚ä»£ç å¦‚ä¸‹ 123456789101112const testaudio = uni.createInnerAudioContext();testaudio.src = &#x27;https://m701.music.126.net/20231121002122/6cab596b822faccb93fdf042dadb9bcc/jdyyaac/obj/w5rDlsOJwrLDjj7CmsOj/31223625128/85a6/7924/89bd/de76bcf275daa45deba6da310e78c31c.m4a&#x27;;testaudio.onCanplay(() =&gt; &#123; console.log(&#x27;éŸ³é¢‘1åŠ è½½å®Œæˆ&#x27;);&#125;);function play1() &#123; testaudio.play();&#125;function stop1() &#123; testaudio.pause();&#125; uniapp ç¼–è¯‘åˆ°æ”¯ä»˜å®å°ç¨‹åºäº†ï¼Œç„¶åæˆ‘ä½¿ç”¨çœŸæœºæµ‹è¯•ï¼ŒæˆåŠŸæ’­æ”¾ã€‚ä½†æ˜¯è¯¡å¼‚çš„å°±æ˜¯æˆ‘æœ‹å‹çš„æ‰‹æœºæµ‹è¯•å¤±è´¥ã€‚ ä¸€è¿è¯•äº†å¥½å‡ ä¸ªäººï¼Œå‘ç°æ˜¯å®‰å“èƒ½æ­£å¸¸æ’­æ”¾ï¼Œios å¤±è´¥ï¼Œå¤ªè¯¡å¼‚äº†ã€‚ ä½†æ˜¯é‚£ä¸ªåŠ è½½å®Œæˆåˆæ˜¯å®æ‰“å®çš„ï¼Œå°±æ˜¯æ’­æ”¾å‡ºäº†é—®é¢˜ã€‚ æ”¯ä»˜å®å¼€å‘è€…å¹³å°æ–‡æ¡£å•Šï¼Œç¤¾åŒºå•Šçœ‹äº†åŠå¤©ï¼Œç„¶åå‘ç°ä¸€ä¸ªé—®åŒæ ·é—®é¢˜çš„ï¼Œæ—¶é—´åœæ­¢åœ¨ 23 å¹´ 3 æœˆï¼Œæ²¡äººå›ï¼Œæ²¡è§£å†³ã€‚ æˆ‘æœäº†ï¼Œè¿™ä¹ˆä¸¥é‡çš„åŠŸèƒ½é—®é¢˜ï¼Œæ”¯ä»˜å®å°ç¨‹åºä½ é‚£æ–‡æ¡£æ€ä¹ˆå†™çš„ï¼Œios æ”¾ä¸å‡ºæ¥éŸ³é¢‘å•Šï¼Œè¿‘ä¸€åŠçš„ç”¨æˆ·å•Š è§£å†³æœ€å google äº†ä¸€æ™šä¸Šï¼Œçè¯•äº†å¥½å¤šæ–¹æ³•ï¼Œè¿˜å»çœ‹äº†å¾®ä¿¡å°ç¨‹åºç¤¾åŒºï¼Œæœ€åè§£å†³äº†ã€‚ ios æœ‰ä¸ªé»˜è®¤å…¨å±€é™éŸ³çš„ç­–ç•¥ï¼Œæ”¯ä»˜å® app ä¼°è®¡æ˜¯å¼€äº†ï¼Œéœ€è¦ç»™éŸ³é¢‘è®¾ç½®é™éŸ³ä¹Ÿèƒ½æ’­æ”¾æ‰è¡Œ 1testaudio.obeyMuteSwitch = false; è®¾ç½®å®Œå†ç»™æœ‹å‹æ‰‹æœºçœŸæœºæµ‹è¯•ï¼ŒéŸ³é¢‘æ”¾å‡ºæ¥äº†ï¼Œæˆ‘ä¹ŸæˆåŠŸå› ä¸ºæ”¯ä»˜å®å¹³å°çš„åƒåœ¾æ–‡æ¡£æµªè´¹äº†ä¸€æ™šä¸Šæ—¶é—´ 2ã€è¸©å‘ä¹‹éŸ³é¢‘ audioContext å¯¹è±¡åªèƒ½åŒæ—¶å­˜åœ¨ 6 ä¸ªå‘åœ¨åšæ— éšœç¢ç»„ä»¶ï¼Œç›²äººä½¿ç”¨ï¼Œæ‰€ä»¥éœ€è¦éŸ³é¢‘æ’­æ”¾ æˆ‘çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯å…ˆæŠŠç°æˆçš„éŸ³é¢‘æ”¾åˆ° oss å¯¹è±¡å‚¨å­˜ä¸Šï¼Œç„¶åè·å–å¤–é“¾ï¼Œç›´æ¥æ’­æ”¾ uniapp é‡ŒéŸ³é¢‘æ’­æ”¾å¤§æ¦‚è¦è¿™ä¹ˆå†™ 1234567let audio = uni.createInnerAudioContext();audio.src = &#x27;xxxx.xxxxx.url&#x27;;// è¿™ä¸ªå¿…é¡»å†™ï¼Œä¸ç„¶iosæ”¾ä¸å‡ºå£°éŸ³audio.obeyMuteSwitch = false;audio.onCanplay(() =&gt; &#123; audio.play();&#125;); æœ¬æ¥æ‰“ç®—ç›´æ¥ç»™æ¯ä¸ªç»„ä»¶éƒ½è¿™ä¹ˆç›´æ¥ new å¥½ï¼Œç„¶åç‚¹å‡»ç›´æ¥è°ƒç”¨ audio.play å®Œäº‹ ç»“æœå‘ç°æ”¾å¤šäº†éŸ³é¢‘ä¹‹åï¼Œå‰é¢æœ€æ—©å¼„çš„å°±æ”¾ä¸å‡ºå£°éŸ³æ¥äº† è§£å†³åå¤å®éªŒå‘ç°ï¼Œæ”¯ä»˜å®å°ç¨‹åºæ˜¯åŒæ—¶åªèƒ½å­˜åœ¨ 6 ä¸ª audio ä¸Šä¸‹æ–‡ audioContext å¯¹è±¡ï¼Œå¤šäº†çš„è¯åé¢çš„ä¼šè¦†ç›–å‰é¢çš„ï¼Œä¹Ÿå°±æ”¾ä¸å‡ºå£°éŸ³æ¥äº† æ‰€ä»¥è§£å†³å°±æ˜¯éšç”¨éš newï¼Œæ”¾å®Œå°±é‡Šæ”¾ã€‚å¤§æ¦‚å°±æ˜¯è¿™æ · 123456789101112131415let audio: UniApp.InnerAudioContext | null;function audioCreatePlay() &#123; audio = uni.createInnerAudioContext(); audio.src = props.audioUrl; // è¿™ä¸ªå¿…é¡»å†™ï¼Œä¸ç„¶iosæ”¾ä¸å‡ºå£°éŸ³ audio.obeyMuteSwitch = false; audio.onCanplay(() =&gt; &#123; audio?.play(); &#125;);&#125;// ç”¨audioCreatePlay();// ç”¨å®Œç›´æ¥é‡Šæ”¾audio?.destroy();audio = null; 3ã€è¸©å‘ä¹‹æ³¨æ„ vue3 å•é¡¹æ•°æ®æµå‘å¥½å§è¿™ä¸ªå…¶å®è·Ÿ uniapp æ²¡å•¥å…³ç³»ï¼Œçº¯çº¯æ˜¯æˆ‘ä¸éµå®ˆ vue è§„èŒƒ æˆ‘è¯•å›¾ç›´æ¥åœ¨çˆ¶ç»„ä»¶ç”¨ref()å£°æ˜å®Œå“åº”å˜é‡ä¹‹åï¼Œç›´æ¥ä¼ é€’å¼•ç”¨ç»™å­ç»„ä»¶ï¼Œç„¶åå­ç»„ä»¶æ‹¿ç€å˜é‡å¼•ç”¨æ”¹å˜æ­¤å˜é‡ï¼Œèƒ½è®©çˆ¶ç»„ä»¶çš„æ­¤ ref å˜é‡å˜åŒ– ç»“æœå½“ç„¶æ˜¯ä¸è¡Œ è§£å†³è¿™ä¹ˆå†™æ²¡éµå®ˆ vue æ¡†æ¶å•é¡¹æ•°æ®æµçš„è§„å®šï¼Œå½“ç„¶ä¸è¡Œ å°±ç®—æ˜¯ v-moudle çš„åŒå‘ç»‘å®šï¼Œå…¶å®ä¹Ÿæ˜¯å°è£…çš„ä¼ æ–¹æ³•å’Œç›‘æ§ï¼Œç„¶åå­ç»„ä»¶è°ƒçˆ¶ç»„ä»¶æ–¹æ³•å®Œæˆä¸¤è¾¹åŒæ­¥ æ‰€ä»¥è¯´è¿˜æ˜¯åº”è¯¥æ­£å¸¸å®Œæˆå­ç»„ä»¶ä¼ çˆ¶ç»„ä»¶æ•°æ®çš„è¿‡ç¨‹ï¼Œåœ¨çˆ¶ç»„ä»¶å®šä¹‰å‡½æ•°æ“çºµè‡ªå·±çš„å˜é‡ï¼Œç„¶åå­ç»„ä»¶defineEmitsæš´éœ²ï¼Œå­ç»„ä»¶ä½¿ç”¨æ­¤ä¼ å‚ï¼Œå®Œæˆå­ä¼ çˆ¶ 4ã€è¸©å‘ä¹‹æ”¯ä»˜å®ä¸æ”¯æŒäº‹ä»¶å§”æ‰˜ï¼Œå› ä¸ºå®ƒé­”æ”¹äº† DOMå‘èµ·å› æ˜¯æˆ‘æƒ³å®ç°ç»„ä»¶ç‚¹å‡»è®¡æ•°ï¼Œç‚¹å‡»åˆ° 5 æ¬¡æ²¡æœ‰äº¤äº’çš„ä½ç½®ï¼Œå°±é»˜è®¤åšç‚¹ä»€ä¹ˆï¼›å¦‚æœç‚¹å‡»çš„æ˜¯æœ‰äº¤äº’çš„åœ°æ–¹ï¼Œå°±ä¸å¹²ä»€ä¹ˆï¼Œä¸èƒ½ç»™æ¯ä¸ªä¸œè¥¿éƒ½ç»‘ç‚¹å‡»å‡½æ•°å§ï¼Œæ‰€ä»¥æˆ‘æƒ³åˆ°äº†äº‹ä»¶å§”æ‰˜ï¼Œç»™æ ¹ç»„ä»¶ç»‘ä¸€ä¸ªå‡½æ•°å°±å®Œäº‹äº† ç»“æœå‘ç°æ˜¯ï¼Œåšä¸åˆ°ï¼Œç‚¹å‡»çš„å¯¹è±¡ä¸Šæ€ä¹ˆå•¥æ–¹æ³•éƒ½æ²¡æœ‰ï¼Œå¸¸ç”¨çš„e.target.closest()ç›´æ¥æ‰¾ä¸åˆ°å‡½æ•° ç»‘å®šåœ¨ dom ä¸Šçš„å‡½æ•°ï¼Œå½¢å‚eï¼Œç„¶åæˆ‘æ‰“å°äº†ä¸€ä¸‹eï¼Œå‘ç°ç¡®å®æ²¡æ³•äº†ï¼Œä»–ä»¬ç»™ dom æ”¹å®Œäº† æ¯”å¦‚è¯´æœ‰ä¸ªç®€å•çš„ç»“æ„å¦‚ä¸‹ 1234567&lt;view class=&quot;wai&quot; onTap=&quot;onTapTest&quot; data-wai=&quot;wai&quot; id=&quot;wai&quot;&gt; 456 &lt;view class=&quot;nei&quot; data-nei=&quot;nei&quot; id=&quot;nei&quot;&gt; 123 &lt;view class=&quot;neinei&quot; data-nei=&quot;neinei&quot; id=&quot;neinei&quot;&gt; 000 &lt;/view&gt; &lt;/view&gt;&lt;/view&gt; 123onTapTest(e)&#123; console.log(e);&#125; ç„¶åæ‰“å°ç»“æœå¾ˆä»¤äººéš¾å—ï¼Œè¯´æ˜è¿™ä¸ª dom é‡Œæ˜¯å•¥éƒ½æ²¡æœ‰ï¼Œå¯¹æ¯”æµè§ˆå™¨çš„ dom å°±è¿™ä¹ˆç‚¹ä¸œè¥¿ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100//ç‚¹å‡»æœ€å¤–é¢çš„æ‰“å°&#123; &quot;currentTarget&quot;: &#123; &quot;dataset&quot;: &#123; &quot;wai&quot;: &quot;wai&quot; &#125;, &quot;id&quot;: &quot;wai&quot;, &quot;offsetLeft&quot;: 0, &quot;offsetTop&quot;: 94, &quot;tagName&quot;: &quot;view&quot; &#125;, &quot;detail&quot;: &#123; &quot;clientX&quot;: 70, &quot;clientY&quot;: 263, &quot;pageX&quot;: 70, &quot;pageY&quot;: 263 &#125;, &quot;target&quot;: &#123; &quot;dataset&quot;: &#123; &quot;wai&quot;: &quot;wai&quot; &#125;, &quot;id&quot;: &quot;wai&quot;, &quot;offsetLeft&quot;: 0, &quot;offsetTop&quot;: 94, &quot;tagName&quot;: &quot;view&quot;, &quot;targetDataset&quot;: &#123; &quot;wai&quot;: &quot;wai&quot; &#125; &#125;, &quot;timeStamp&quot;: 1700819502522, &quot;type&quot;: &quot;tap&quot;, &quot;mark&quot;: &#123;&#125;&#125;// ç‚¹å‡»ä¸­é—´çš„æ‰“å°&#123; &quot;currentTarget&quot;: &#123; &quot;dataset&quot;: &#123; &quot;wai&quot;: &quot;wai&quot; &#125;, &quot;id&quot;: &quot;wai&quot;, &quot;offsetLeft&quot;: 0, &quot;offsetTop&quot;: 94, &quot;tagName&quot;: &quot;view&quot; &#125;, &quot;detail&quot;: &#123; &quot;clientX&quot;: 80, &quot;clientY&quot;: 156, &quot;pageX&quot;: 80, &quot;pageY&quot;: 156 &#125;, &quot;target&quot;: &#123; &quot;dataset&quot;: &#123; &quot;wai&quot;: &quot;wai&quot; &#125;, &quot;id&quot;: &quot;nei&quot;, &quot;offsetLeft&quot;: 0, &quot;offsetTop&quot;: 113, &quot;tagName&quot;: &quot;view&quot;, &quot;targetDataset&quot;: &#123; &quot;nei&quot;: &quot;nei&quot; &#125; &#125;, &quot;timeStamp&quot;: 1700819522863, &quot;type&quot;: &quot;tap&quot;, &quot;mark&quot;: &#123;&#125;&#125;// ç‚¹å‡»æœ€ä¸­é—´çš„æ‰“å°&#123; &quot;currentTarget&quot;: &#123; &quot;dataset&quot;: &#123; &quot;wai&quot;: &quot;wai&quot; &#125;, &quot;id&quot;: &quot;wai&quot;, &quot;offsetLeft&quot;: 0, &quot;offsetTop&quot;: 94, &quot;tagName&quot;: &quot;view&quot; &#125;, &quot;detail&quot;: &#123; &quot;clientX&quot;: 28, &quot;clientY&quot;: 153, &quot;pageX&quot;: 28, &quot;pageY&quot;: 153 &#125;, &quot;target&quot;: &#123; &quot;dataset&quot;: &#123; &quot;wai&quot;: &quot;wai&quot; &#125;, &quot;id&quot;: &quot;neinei&quot;, &quot;offsetLeft&quot;: 0, &quot;offsetTop&quot;: 132, &quot;tagName&quot;: &quot;view&quot;, &quot;targetDataset&quot;: &#123; &quot;nei&quot;: &quot;neinei&quot; &#125; &#125;, &quot;timeStamp&quot;: 1700819539734, &quot;type&quot;: &quot;tap&quot;, &quot;mark&quot;: &#123;&#125;&#125; è§£å†³æ ¹æ®æ‰“å°å‡ºæ¥çš„ä¸œè¥¿æ¥çœ‹ï¼Œå†’æ³¡è¿˜åœ¨ï¼ŒcurrentTargetå§‹ç»ˆæŒ‡å‘ç»‘å®šäº‹ä»¶çš„æœ€å¤–å±‚å…ƒç´ ï¼ŒtargetæŒ‡å‘å®é™…è¢«ç‚¹å‡»çš„å…ƒç´ ï¼Œä¸”æºå¸¦ç€å„è‡ªçš„datasetä¿¡æ¯ã€‚ ä½†æ˜¯ç¡®å®é¼ æ ‡ç‚¹å‡»äº‹ä»¶çš„ target å…¨æ”¹äº†ï¼Œå„ç§æ–¹æ³•æ²¡æœ‰äº†ï¼Œæ²¡æ³•æ‹¦æˆªç‚¹å‡»åˆ°æœ€å¤–å±‚ï¼Œäº‹ä»¶å§”æ‰˜ç®—åŸºæœ¬ç”¨ä¸äº†äº† å½“æ—¶æˆ‘è¦åšçš„æ˜¯ç»„ä»¶ç‚¹å‡»è®¡æ•°ï¼Œç‚¹å‡»åˆ° 5 æ¬¡æ²¡æœ‰äº¤äº’çš„ä½ç½®ï¼Œå°±é»˜è®¤åšç‚¹ä»€ä¹ˆï¼›å¦‚æœç‚¹å‡»çš„æ˜¯æœ‰äº¤äº’çš„åœ°æ–¹ï¼Œå°±ä¸å¹²ä»€ä¹ˆ ç¬¨æ–¹æ³•ï¼Œå†™ä¸ªå…¨å±€å˜é‡ï¼Œç›´æ¥ç»™æ‰€æœ‰äº¤äº’ç»„ä»¶éƒ½ç»‘ä¸ªå‡½æ•°ï¼Œç‚¹å‡»å˜é‡ç½® 0ï¼›ç»™æœ€æ ¹ç»„ä»¶ä¹Ÿç»‘ä¸ªå‡½æ•°ï¼Œç‚¹å‡»å˜++ã€‚ç„¶åå˜é‡ç›‘å¬ï¼Œåˆ°äº† 5 å°±è§¦å‘æŸå‡½æ•° éå¸¸ç¬¨çš„æ–¹æ³•äº†ï¼Œåæ­£æ˜¯å®ç°äº† 5ã€è¸©å‘ä¹‹å•é¡µé¢ç»„ä»¶æ¸²æŸ“å‘uni è·¯ç”±è·³è½¬çš„è¯ï¼Œå…¶å®æ˜¯åˆ‡æ¢äº†é¡µé¢ã€‚æˆ‘æƒ³ä¸å‡ºç°é‚£ä¸ªé¡µé¢è½¬æ¢çš„åŠ¨ç”»ï¼Œæƒ³è®©å®ƒæ„Ÿè§‰æ˜¯ç›´æ¥åˆ·æ–°çš„ ä½†æ˜¯ uniapp æ²¡ vue çš„ router è·¯ç”±ç®¡ç†ï¼Œæ‰€ä»¥æˆ‘åªèƒ½ç”¨æ‰‹åŠ¨ç”¨æ¡ä»¶æ¸²æŸ“åˆ‡æ¢ç»„ä»¶çš„æ–¹å¼è¿›è¡Œ 1&lt;component :is=&quot;...&quot;&gt;&lt;/component&gt; ç„¶åå‘ç° is æ¡ä»¶æ¸²æŸ“ä¹Ÿä¸æ”¯æŒã€‚ã€‚ã€‚è¿™å°±æ˜¯ uniapp æˆ‘æƒ³æµè§ˆå™¨çœŸ vue çš„ router äº† ğŸ˜­ğŸ˜­ğŸ˜­ æƒ³æ€ä¹ˆå¼„å­è·¯ç”±å°±æ€ä¹ˆå¼„å­è·¯ç”± ğŸ˜­ğŸ˜­ğŸ˜­ è§£å†³ç»„ä»¶ç”¨v-ifå¾—äº†ã€‚ã€‚ã€‚ 123&lt;component1 v-if=&quot;condition&quot;&gt;&lt;/component1&gt;&lt;component2 v-if=&quot;condition&quot;&gt;&lt;/component2&gt;&lt;component3 v-if=&quot;condition&quot;&gt;&lt;/component3&gt; 23&#x2F;12&#x2F;7 è¡¥å……ä»Šå¤©çœ‹åŒä¼´ä»£ç ï¼Œçœ‹å‡ºæ¥åˆ«çš„è§£å†³åŠæ³•äº†ã€‚uniapp é‡Œæœ‰ TabBar ç»„ä»¶çš„å­˜åœ¨ï¼Œapp é‡ŒæŒºå¸¸ç”¨çš„ä¸œè¥¿ï¼Œæœ¬æ¥æ˜¯ç”¨æ¥åšåº•éƒ¨æ ï¼Œå•ä¸ªé¡µé¢å†…è·¯ç”±è·³è½¬ï¼Œä¸åˆ·æ–°ã€‚ æ‰€ä»¥ç»™äº† uni.switchTab() æ–¹æ³•ï¼ŒæŒ‰è§„å®šåœ¨ page.json é‡Œé…ç½®å¥½åº•éƒ¨æ å¯¹åº”é¡µé¢ï¼Œè°ƒç”¨å°±èƒ½ç›´æ¥åœ¨å•ä¸ªé¡µé¢é‡Œåˆ‡æ¢ï¼Œä¸åˆ·æ–°çš„æ•ˆæœã€‚ ä½†è¿™æ˜¯ uniapp è‡ªå¸¦çš„é»˜è®¤åº•éƒ¨æ ï¼Œå†™é…ç½®å°±æœ‰çš„é‚£ä¸ªï¼Œå¤ªä¸‘äº†ï¼Œæ²¡æ³•ç”¨ï¼Œæ‰€ä»¥å¹²è„†ç›´æ¥éšè—æ‰ï¼Œåªç”¨ç»™çš„æ–¹æ³•åˆ‡æ¢é¡µé¢ã€‚å°ç¨‹åºæ²¡ç»™è‡ªå®šä¹‰åº•éƒ¨æ çš„æ–¹æ³•ï¼Œåªèƒ½è‡ªå·±æ“ï¼Œåˆ†åˆ«åœ¨å„é¡µé¢åº•éƒ¨ç”¨ï¼Œç„¶å pinia åˆ†äº«çŠ¶æ€è®°ä½å½“å‰é€‰æ‹© 6ã€è¸©å‘ä¹‹æ”¯ä»˜å®å°ç¨‹åºæ’ä»¶ï¼Œuniapp é‡Œæ²¡æ³•ç»™ç»„ä»¶å¯¼å…¥ï¼Œåªèƒ½ç»™é¡µé¢å¼•å…¥å‘ç»“åˆä¸Šä¸€æ¡ï¼Œæˆ‘æƒ³åœ¨ç»„ä»¶é‡Œå¼•å…¥æ”¯ä»˜å®å°ç¨‹åºçš„æ’ä»¶ï¼Œå®ç°é¡µé¢é‡Œé¢çš„è°ƒç”¨ï¼Œæ— ç¼åˆ·æ–° ä½†æ˜¯å‘ç°æ”¯ä»˜å®å°ç¨‹åºåŸç”Ÿæ’ä»¶å¼•å…¥ä¸äº†ç»„ä»¶é‡Œ è§£å†³æ²¡æ³•äº†ï¼Œä¸ç»™ç»„ä»¶å¼•å…¥äº†ï¼Œç›´æ¥ç»™é¡µé¢å¼•å…¥ æœ¬æ¥åªç®¡è·¯ç”±ç»„ä»¶åˆ‡æ¢çš„é¡µé¢ï¼Œè¿™ä¸‹å†™äº†ä¸€å †ä¸œè¥¿ï¼Œè°ƒç”¨æ’ä»¶çš„é€»è¾‘å…¨å†™é‡Œé¢äº†ï¼ŒçœŸæ²¡æ³• 7ã€è¸©å‘ä¹‹ callContainer å…åŸŸåè°ƒç”¨å®ç°é•¿è½®è¯¢å‘æ”¯ä»˜å®å°ç¨‹åºï¼Œåç«¯éƒ¨ç½²åœ¨æ”¯ä»˜å®å°ç¨‹åºäº‘æ‰˜ç®¡ä¸Šçš„è¯ï¼Œå…³è”äº†å¯¹åº”å°ç¨‹åºå°±æœ‰å…åŸŸåè°ƒç”¨å¯ä»¥ç”¨ã€‚ å®˜æ–¹æ–‡æ¡£åœ¨æ­¤callContainerï¼ˆå…¶å®å®˜æ–¹æ–‡æ¡£å†™çš„ä¸€å¨å²ï¼Œæœ‰æ—¶é—´èƒ½å•å¼€ä¸€ç¯‡ä¸“é—¨è¯´è¸©è¿‡çš„å‘ã€‚è€Œä¸”å®Œå…¨ç…§æ¬çš„å¾®ä¿¡å°ç¨‹åºäº‘ï¼Œæ”¯ä»˜å®é‚£æ‰¾ä¸åˆ°è§£å†³æ–¹æ¡ˆçš„ï¼Œç›´æ¥å»çœ‹å¾®ä¿¡çš„ç¤¾åŒºï¼Œç®€ç›´ 1:1 å¤åˆ»ï¼Œé‚£è¾¹å¸®ä½ æŠŠå‘è¸©å¥½äº†ï¼‰ ç°åœ¨è¦å®ç°ç®€å•çš„åç«¯ä¸»åŠ¨æ¨é€ã€‚å› ä¸ºä¸šåŠ¡ä¸å¤æ‚ï¼Œæ‰€ä»¥ä¸æƒ³ç”¨ websocket äº†ï¼Œç›´æ¥ä¸Šé•¿è½®è¯¢å®Œäº‹ ä½†æ˜¯è¯¡å¼‚çš„äº‹å°±æ˜¯ï¼Œåç«¯è‡ªæµ‹ 60s é•¿è½®è¯¢ï¼Œæ²¡é—®é¢˜ï¼Œæˆ‘è‡ªå·±ç”¨å°ç¨‹åºäº‘çš„å…¬ç½‘æµ‹è¯•ç½‘å€æµ‹ï¼Œä¹Ÿæ²¡é—®é¢˜ï¼Œä½†æ˜¯å°ç¨‹åºä¸ŠçœŸç”¨å…åŸŸåè°ƒç”¨å°± 6s è¶…æ—¶ï¼Œè¶…æ—¶ç›´æ¥ throw å‡ºè°ƒç”¨å¤±è´¥ æˆ‘éƒ½æ€€ç–‘å®˜ç½‘å†™çš„é»˜è®¤ timeout å‚æ•°æ˜¯ 60000 æ˜¯å°‘å†™äº†ä¸ªé›¶ è§£å†³å°ç¨‹åºå¼€å‘å·¥å…·çš„é—®é¢˜ã€‚åå¤åœ¨è°ƒç”¨å‰åæ‰“å°æ—¶é—´æˆ³éªŒè¯æ—¶é—´ï¼Œå‘ç°å…åŸŸåè°ƒç”¨è‡ªå®šä¹‰çš„ 6s ä»¥å†…çš„è¶…æ—¶æ—¶é—´ï¼Œéƒ½èƒ½æ­£ç¡®å®ç°ï¼Œå†™å¤šå°‘å°±æ˜¯å¤šå°‘ï¼Œthrow å‡ºæ¥çš„æ˜¯è¶…æ—¶é”™è¯¯ã€‚ä½†æ˜¯å†™è¶…è¿‡ 6s çš„è¶…æ—¶æ—¶é—´ï¼Œå°±ç›´æ¥ 6s ç»™ä½  throw å‡ºè°ƒç”¨å¤±è´¥ï¼Œçœ‹æ¥æœ€å¤§ä¸Šé™æ˜¯ 6s è§£å†³æ–¹æ³•æ˜¯ä¸ŠçœŸæœºè°ƒè¯•ï¼Œçº¯çº¯ ide çš„é—®é¢˜ã€‚ide è®¾ç½®çš„ 6s ä¸Šé™ï¼Œæ‰‹æœºçœŸæµ‹å°±æ˜¯ 60s çš„ä¸Šé™ï¼Œ60s å†…çš„è‡ªå®šä¹‰è¶…æ—¶æ—¶é—´éƒ½æœ‰æ•ˆï¼Œè¶…è¿‡ 60s æ‰ä¸Šé™æ˜¾ç¤ºæ˜¯ 60s è°ƒç”¨å¤±è´¥","categories":[{"name":"webå‰ç«¯","slug":"webå‰ç«¯","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/"},{"name":"å°ç¨‹åº","slug":"webå‰ç«¯/å°ç¨‹åº","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://wishao.me/tags/%E5%89%8D%E7%AB%AF/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://wishao.me/tags/%E7%AC%94%E8%AE%B0/"},{"name":"TypeScript","slug":"TypeScript","permalink":"http://wishao.me/tags/TypeScript/"},{"name":"vue","slug":"vue","permalink":"http://wishao.me/tags/vue/"},{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"http://wishao.me/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"æ”¯ä»˜å®å°ç¨‹åº","slug":"æ”¯ä»˜å®å°ç¨‹åº","permalink":"http://wishao.me/tags/%E6%94%AF%E4%BB%98%E5%AE%9D%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}]},{"title":"å½»åº•å…³é—­Windows Defender","slug":"å½»åº•å…³é—­windows10-Defender","date":"2023-08-03T03:43:37.000Z","updated":"2023-08-03T04:40:50.433Z","comments":true,"path":"2023/08/03/å½»åº•å…³é—­windows10-Defender/","link":"","permalink":"http://wishao.me/2023/08/03/%E5%BD%BB%E5%BA%95%E5%85%B3%E9%97%ADwindows10-Defender/","excerpt":"åˆä¸€æ¬¡è¢«Windows Defenderæ°”æ˜ï¼Œå›¾å§å·¥å…·ç®±å‰è„šåˆšè§£å‹å®Œå°±æ— å£°ç»™æˆ‘åˆ äº†ï¼Œæœ‰çš„å­¦ä¹ ç‰ˆæ¸¸æˆæ›´æ˜¯å®‰è£…å®Œå°±æŠŠæ‰§è¡Œç¨‹åºæ— å£°å¹²æ‰äº†ã€‚å—ä¸äº†äº†ï¼ŒDefenderå’Œæˆ‘å¿…é¡»æ­»ä¸€ä¸ª ç›®å‰23å¹´8æœˆ3æ—¥ï¼ŒWindows10 21H2 19044.3086äº²æµ‹æœ‰æ•ˆ","text":"åˆä¸€æ¬¡è¢«Windows Defenderæ°”æ˜ï¼Œå›¾å§å·¥å…·ç®±å‰è„šåˆšè§£å‹å®Œå°±æ— å£°ç»™æˆ‘åˆ äº†ï¼Œæœ‰çš„å­¦ä¹ ç‰ˆæ¸¸æˆæ›´æ˜¯å®‰è£…å®Œå°±æŠŠæ‰§è¡Œç¨‹åºæ— å£°å¹²æ‰äº†ã€‚å—ä¸äº†äº†ï¼ŒDefenderå’Œæˆ‘å¿…é¡»æ­»ä¸€ä¸ª ç›®å‰23å¹´8æœˆ3æ—¥ï¼ŒWindows10 21H2 19044.3086äº²æµ‹æœ‰æ•ˆ èµ·å› åœ¨ä¸çŸ¥é“å¤šå°‘æ¬¡è¢«Windows Defenderè‡ªåŠ¨æ— å£°è¯¯åˆ ä¹‹åï¼Œç»ˆäºå—ä¸äº†äº†ã€‚ ä½†æ˜¯åœ¨è®¾ç½®é‡Œæ‰‹åŠ¨å…³é—­çš„è¯ï¼Œé‡å¯ç”µè„‘å®ƒä¼šè‡ªåŠ¨å†æ¬¡å¼€å¯ï¼Œç½‘ä¸Šæ‰¾åˆ°çš„ç­–ç•¥ç»„é‡Œå…³é—­æ–¹æ³•éƒ½ä¸ç®¡ç”¨äº†ï¼Œé‡å¯ç”µè„‘éƒ½ä¼šå†æ‰“å¼€ï¼Œå¾®è½¯ä¸ºäº†ä¸è®©æˆ‘ä»¬æŠŠå®ƒå…³äº†çœŸæ˜¯å¤„å¿ƒç§¯è™‘ã€‚ å¹¸äºé‚£ä¸ªå…³é—­å°å·¥å…·è¿˜æ˜¯æœ‰ç”¨çš„ï¼Œç½‘ä¸Šæœçš„å„ç§å…³é—­æ–¹æ³•é±¼é¾™æ··æ‚ï¼Œç´¢æ€§è‡ªå·±è®°å½•ä¸‹ æ­¥éª¤1. é¦–å…ˆæ‰‹åŠ¨å…³é—­windows Defenderé˜²ç—…æ¯’æ‰“å¼€è®¾ç½®â€“&gt;æ›´æ–°å’Œå®‰å…¨â€“&gt;å·¦ä¾§è¾¹æ Windowså®‰å…¨ä¸­å¿ƒâ€“&gt;ç—…æ¯’å’Œå¨èƒé˜²æŠ¤â€“&gt;â€ç—…æ¯’å’Œå¨èƒé˜²æŠ¤â€è®¾ç½®çš„ç®¡ç†è®¾ç½® é‡Œé¢æœ‰ä¸ªå®æ–½ä¿æŠ¤ï¼Œç»™ä»–å…³äº† è¿™ä¹ˆåšåªèƒ½ä¸´æ—¶å…³ï¼Œé‡å¯ç”µè„‘å°±åˆå›æ¥äº†ã€‚ä¸è¿‡æ— æ‰€è°“ï¼Œä¸´æ—¶å…³æ˜¯ä¸ºäº†ç”¨åé¢çš„å·¥å…·ï¼Œå¾®è½¯ç»™é‚£ä¸ªå·¥å…·é‡ç‚¹æ ‡è®°äº†ï¼Œä¸å…³çš„è¯ä¸€æ£€æµ‹åˆ°å°±ç»™ä½ åˆ äº† 2. ä¸‹è½½å·¥å…·è“å¥äº‘ å¯†ç :c9xo ä¸‹è½½å®Œè§£å‹ï¼Œè§£å‹å¯†ç 2222 3. ä½¿ç”¨åŒå‡».exeæ‰“å¼€ï¼Œè¿™æ˜¯æœ‰å¤§ç¥æ±‰åŒ–äº†çš„ï¼Œç‚¹åœç”¨å°±è¡Œäº† ç¢ç¢å¿µå…¶å®å¯ä»¥ç»™è¯¯åˆ ä¸œè¥¿åŠ ç™½åå•ï¼Œå°±ä¸ä¼šåˆ äº†ã€‚è‡ªå·±æ²¡ç‚¹åˆ¤æ–­åŠ›çš„è¿˜æ˜¯å»ºè®®åˆ«ç»™ç”µè„‘è£¸å¥”ï¼Œæœ‰è¿™ä¹ˆä¸ªé˜²æŠ¤çš„è‡³å°‘æœ‰ç‚¹ç”¨ ä½†æ˜¯æˆ‘è¿˜æ˜¯è¦è¯´äº†ï¼Œå¦ˆçš„å¾®è½¯ä¸ºå•¥ä¸èƒ½ç»™ä¸ªå…³è¿™ç§ä¸œè¥¿çš„è‡ªç”±ï¼Œæˆ‘å°±æ˜¯ä¸æƒ³ç”¨ï¼Œå¿…é¡»ç»™ä»–å…³äº†","categories":[{"name":"çæŠ˜è…¾","slug":"çæŠ˜è…¾","permalink":"http://wishao.me/categories/%E7%9E%8E%E6%8A%98%E8%85%BE/"},{"name":"Windowsè°ƒæ•™","slug":"çæŠ˜è…¾/Windowsè°ƒæ•™","permalink":"http://wishao.me/categories/%E7%9E%8E%E6%8A%98%E8%85%BE/Windows%E8%B0%83%E6%95%99/"}],"tags":[{"name":"Windows10","slug":"Windows10","permalink":"http://wishao.me/tags/Windows10/"},{"name":"Windows11ï¼ŒDefender","slug":"Windows11ï¼ŒDefender","permalink":"http://wishao.me/tags/Windows11%EF%BC%8CDefender/"},{"name":"å…³é—­","slug":"å…³é—­","permalink":"http://wishao.me/tags/%E5%85%B3%E9%97%AD/"},{"name":"å°è½¯ä»¶","slug":"å°è½¯ä»¶","permalink":"http://wishao.me/tags/%E5%B0%8F%E8%BD%AF%E4%BB%B6/"}]},{"title":"åˆè¯†canvas","slug":"åˆè¯†canvas","date":"2023-07-21T11:44:02.000Z","updated":"2023-07-21T12:25:16.822Z","comments":true,"path":"2023/07/21/åˆè¯†canvas/","link":"","permalink":"http://wishao.me/2023/07/21/%E5%88%9D%E8%AF%86canvas/","excerpt":"ä¸ºäº†è¿˜åŸå°æ—¶å€™ç©è¿‡çš„ä¸€ä¸ªflashæ¸¸æˆï¼Œå†³å®šå­¦ç‚¹html5æ¸¸æˆåˆ¶ä½œã€‚æ‰¾äº†ä¸ªå¤–ç½‘æ•™ç¨‹ï¼Œå…ˆä»canvaså…ƒç´ å¼€å§‹","text":"ä¸ºäº†è¿˜åŸå°æ—¶å€™ç©è¿‡çš„ä¸€ä¸ªflashæ¸¸æˆï¼Œå†³å®šå­¦ç‚¹html5æ¸¸æˆåˆ¶ä½œã€‚æ‰¾äº†ä¸ªå¤–ç½‘æ•™ç¨‹ï¼Œå…ˆä»canvaså…ƒç´ å¼€å§‹ æ•™ç¨‹åŸåœ°å€JavaScript Game Development Course for Beginners - YouTube canvas1. ä»ç²¾çµå›¾åŠ¨ç”»å¼€å§‹é¦–å…ˆåœ¨htmlé‡Œå¼•å…¥canvasæ ‡ç­¾ã€‚ç„¶ååœ¨jsä¸­è·å–å…¶DOM ç„¶åè·å–canvasä¸Šçš„æ‰€æœ‰æ–¹æ³•ã€‚ 1const ctx = canvas.getContext(&#x27;2d&#x27;); è¿™é‡Œçš„å‚æ•°ä»£è¡¨canvasçš„å±æ€§ï¼Œ2dæ˜¯2dç”»å¸ƒã€‚è¿˜æœ‰åˆ«çš„ï¼Œå¯ä»¥åš3dçš„ä¸œè¥¿ ä¸‹é¢è¿™ä¹ˆå†™å¯ä»¥æ¸…é™¤ç”»å¸ƒå†…å®¹ï¼Œå‰é¢ä¸¤ä¸ªå‚æ•°æ˜¯è¦æ¸…é™¤çš„å·¦ä¸Šè§’èµ·å§‹ç‚¹ï¼Œåé¢æ˜¯å®½é«˜ï¼Œè¡¨ç¤ºæ¸…é™¤ä¸€ä¸ªçŸ©å½¢ 1ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT) åˆ›å»ºä¸€ä¸ªå­˜ç²¾çµå›¾çš„å¯¹è±¡ 1const playerImage = new Image(); å›¾ç‰‡çš„ä¼ æ³•ï¼Œç¬¬ä¸€ä¸ªæ˜¯å›¾ç‰‡ï¼Œ2 3æ˜¯å›¾ç‰‡èµ·å§‹ç‚¹ï¼ˆå·¦ä¸Šè§’ï¼‰ï¼Œ4 5æ˜¯å›¾ç‰‡æ‹‰ä¼¸å¤§å° 12345ctx.drawImage(playerImage, 0, 0, 6000, 6000);// è¿˜æœ‰ä¹ä¸ªå‚æ•°çš„ç‰ˆæœ¬ï¼Œsx syæ˜¯å›¾ç‰‡å‰ªè£èµ·å§‹ç‚¹ï¼Œsw shæ˜¯å‰ªè£é•¿å®½// dx dyæ˜¯å›¾ç‰‡æ”¾ç½®ä½ç½®èµ·å§‹ç‚¹ï¼Œdw dhæ˜¯å›¾ç‰‡æ”¾ç½®é•¿å®½ctx.drawImage(playerImage, sx, sy, sw, sh, dx, dy, dw, dh); åˆ›å»ºä¸€ä¸ªå¸§ï¼Œä½¿ç”¨(å…¶ä¸­animateä¼ ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥æ”¾åŒ…å«ä¸Šé¢ä¸œè¥¿çš„ï¼Œæ“çºµcanvas) 1requestAnimationFrame(animate); æˆ‘ä»¬å¯ä»¥åœ¨animateé‡Œä½¿ç”¨æ­¤å‡½æ•°è°ƒç”¨animateå‡½æ•°è‡ªå·±ï¼Œå°±èƒ½å®ç°ä¸€ç›´åˆ›å»ºå¸§ã€‚ åœ¨æ§åˆ¶canvasçš„å‡½æ•°çš„å‚æ•°é‡Œä½¿ç”¨å˜é‡ï¼Œå¹¶ä¸”è®©ä»–ä»¬å˜åŒ–ï¼Œå°±èƒ½å®ç°åŸºç¡€çš„åŠ¨ç”»","categories":[{"name":"webå‰ç«¯","slug":"webå‰ç«¯","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/"},{"name":"html5æ¸¸æˆ","slug":"webå‰ç«¯/html5æ¸¸æˆ","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/html5%E6%B8%B8%E6%88%8F/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://wishao.me/tags/%E5%89%8D%E7%AB%AF/"},{"name":"åŸç”Ÿjs","slug":"åŸç”Ÿjs","permalink":"http://wishao.me/tags/%E5%8E%9F%E7%94%9Fjs/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://wishao.me/tags/%E7%AC%94%E8%AE%B0/"},{"name":"è‡ªå­¦","slug":"è‡ªå­¦","permalink":"http://wishao.me/tags/%E8%87%AA%E5%AD%A6/"},{"name":"canvas","slug":"canvas","permalink":"http://wishao.me/tags/canvas/"},{"name":"æ¸¸æˆ","slug":"æ¸¸æˆ","permalink":"http://wishao.me/tags/%E6%B8%B8%E6%88%8F/"}]},{"title":"TypeScriptå…¥é—¨","slug":"TypeScriptå…¥é—¨","date":"2023-07-15T12:08:27.000Z","updated":"2023-07-24T09:50:49.142Z","comments":true,"path":"2023/07/15/TypeScriptå…¥é—¨/","link":"","permalink":"http://wishao.me/2023/07/15/TypeScript%E5%85%A5%E9%97%A8/","excerpt":"TypeScript åŸºç¡€å†æ¬¡å­¦ä¹ ","text":"TypeScript åŸºç¡€å†æ¬¡å­¦ä¹  TypeScript åŸºç¡€çŸ¥è¯†1, å®‰è£…ä½¿ç”¨å…¨å±€å®‰è£… 1npm i -g TypeScript åˆå§‹åŒ–æ–‡ä»¶å¤¹é…ç½®æ–‡ä»¶ 1tsc --init ä¸€èˆ¬ä½¿ç”¨ï¼Œç›´æ¥è¾“å…¥tscï¼Œå°±è‡ªåŠ¨æŠŠ ts ç¼–è¯‘æˆ js ä¸ºäº†æ–¹ä¾¿ï¼Œå¯ä»¥ç›‘å¬å˜åŒ–ï¼Œä¿å­˜å°±è‡ªåŠ¨ç¼–è¯‘ 1tsc --watch 2. åŸºç¡€ç±»å‹TypeScript æä¾›äº† JavaScript ä¸­æ‰€æœ‰çš„åŸºç¡€æ•°æ®ç±»å‹ï¼Œå¦‚ï¼š boolean number string array tuple enum any void null and undefined never ts å…è®¸æˆ‘ä»¬æ˜¾ç¤ºæ ‡æ³¨ç±»å‹ï¼Œæˆ–è€…ä¸æ ‡ä¹Ÿè¡Œï¼Œå¯ä»¥éšå¼æ¨æ–­ 1234567891011121314151617181920212223242526272829let isDone: boolean = false;let decimal: number = 6;let color: string = &#x27;blue&#x27;;let list: number[] = [1, 2, 3];let list: Array&lt;number&gt; = [1, 2, 3]; // ç”¨Arrayå¯¹è±¡å®šä¹‰æ•°ç»„let x: [string, number]; // è¿™æ˜¯å…ƒç»„x = [&#x27;hello&#x27;, 10];enum Color &#123; Red, Green, Blue,&#125;let c: Color = Color.Green;let notSure: any = 4;notSure = &#x27;maybe a string instead&#x27;;notSure = false;function warnUser(): void &#123; console.log(&#x27;This is my warning message&#x27;);&#125;let unusable: void = undefined;let u: undefined = undefined;let n: null = null; 3. è”åˆç±»å‹TypeScript çš„ä¸€å¤§ç‰¹æ€§æ˜¯èƒ½å¤Ÿæ˜ç¡®æŒ‡å®šä¸€ä¸ªå€¼å¯èƒ½çš„ç±»å‹èŒƒå›´ã€‚ 1234let value: number | string;value = &#x27;hello&#x27;; // Okvalue = 100; // Okvalue = true; // Error: boolean is not assignable to type &#x27;string | number&#x27; 4. ç±»å‹æ–­è¨€ç±»å‹æ–­è¨€å¥½æ¯”å…¶å®ƒè¯­è¨€é‡Œçš„ç±»å‹è½¬æ¢ï¼Œä½†æ˜¯ä¸è¿›è¡Œç‰¹æ®Šçš„æ•°æ®æ£€æŸ¥å’Œè§£æ„ã€‚ä¸»è¦æ˜¯å› ä¸º ts çš„ç±»å‹æ£€æŸ¥åªèƒ½åœ¨ç¼–è¯‘æ—¶è¿›è¡Œï¼Œç¼–è¯‘åä¼šæŠ¹å»ç±»å‹ï¼Œå˜æˆæ™®é€šçš„ js ä»£ç  123let someValue: any = &#x27;this is a string&#x27;;let strLength: number = (&lt;string&gt;someValue).length; // å‰ç½®å°–æ‹¬å·æ–­è¨€let strLength: number = (someValue as string).length; // asæ–­è¨€ï¼Œä¸¤ç§éƒ½å¯ä»¥ 5. å…ƒç»„å’Œæšä¸¾å…ƒç»„ç±»å‹å…è®¸è¡¨ç°ä¸€ä¸ªå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ï¼Œå„å…ƒç´ çš„ç±»å‹ä¸å¿…ç›¸åŒã€‚ 1234let tupleType: [string, number];tupleType = [&#x27;hello&#x27;, 10];console.log(tupleType[0].substring(1)); // OKconsole.log(tupleType[1].substring(1)); // Error æšä¸¾æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»å‹ï¼Œå®ƒå¯ä»¥åŒ…å«ä¸€ç»„å‘½åçš„å¸¸é‡ã€‚æšä¸¾å¯ä»¥æ˜¯æ•°å­—æšä¸¾ï¼Œå­—ç¬¦ä¸²æšä¸¾ï¼Œå¼‚æ„æšä¸¾ã€‚ 12345678910111213enum Color &#123; Red, Green, Blue,&#125; // numeric enumlet c: Color = Color.Green;enum Direction &#123; Up = &#x27;UP&#x27;, Down = &#x27;DOWN&#x27;, Left = &#x27;LEFT&#x27;, Right = &#x27;RIGHT&#x27;,&#125; // string enum 6. æ¥å£æ¥å£åœ¨ TypeScript ä¸­æ˜¯ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œå®ƒæ˜¯å¯¹è¡Œä¸ºçš„æŠ½è±¡ï¼Œä¹Ÿæ˜¯é¸­å­ç±»å‹çš„ä¸€ç§è¡¨ç°ã€‚ é¸­å­ç±»å‹ - ç»´åŸºç™¾ç§‘ 12345678910interface LabelledValue &#123; label: string;&#125;function printLabel(labelledObj: LabelledValue) &#123; console.log(labelledObj.label);&#125;let myObj = &#123; size: 10, label: &#x27;Size 10 Object&#x27; &#125;;printLabel(myObj); ï¼ˆç®€å•æ¥è¯´å°±æ˜¯ï¼Œå¦‚æœä½ å®šä¹‰äº†ä¸€ä¸ªæ¥å£çš„ç»“æ„ï¼Œç„¶åé€ äº†ä¸ªå¯¹è±¡æœ‰è¿™ä¸ªæ¥å£ä¸€æ¨¡ä¸€æ ·çš„å±æ€§ï¼Œå°±ç®—æ˜¯é€ è¿™ä¸ªå¯¹è±¡çš„æ—¶å€™æ²¡ç›´æ¥ç”¨ implementï¼ŒTypeScript ä¹Ÿä¼šè®¤ä¸ºè¿™ä¸ªå¯¹è±¡æ˜¯è¿™ä¸ªæ¥å£çš„å®ç°ï¼Œå¯ä»¥ä¼ å…¥æŸä¸ªæ¥å—è¿™ä¸ªæ¥å£ç±»å‹çš„å‡½æ•°å½“å‚æ•°ï¼Œä¸ä¼šæŠ¥é”™ï¼‰ 7. æ³›å‹æ³›å‹å°±æ˜¯è§£å†³ç±»ã€æ¥å£ã€æ–¹æ³•çš„å¤ç”¨æ€§ï¼Œä»¥åŠå¯¹ä¸ç‰¹å®šæ•°æ®ç±»å‹çš„æ”¯æŒã€‚ 12345function identity&lt;T&gt;(arg: T): T &#123; return arg;&#125;let output = identity&lt;string&gt;(&#x27;myString&#x27;); // type of output will be &#x27;string&#x27;s 8. è£…é¥°å™¨ä¸åå°„å…ƒæ•°æ®8.1 è£…é¥°å™¨è£…é¥°å™¨ï¼Œé¡¾åæ€ä¹‰ï¼Œå¯ä»¥æ·»åŠ ä¸€äº›é™„åŠ åŠŸèƒ½åœ¨ä»£ç ä¸­ã€‚åœ¨ TypeScript ä¸­ï¼Œè£…é¥°å™¨æä¾›äº†ä¸€ç§æ–¹æ³•ï¼Œèƒ½åœ¨è¿è¡Œæ—¶ä¿®æ”¹ç±»çš„è¡Œä¸ºæˆ–å¯¹ç±»è¿›è¡Œé¢å¤–çš„å¤„ç†ã€‚å®ƒä»¬å¯ä»¥åº”ç”¨åœ¨ç±»ï¼Œæ–¹æ³•ï¼Œå±æ€§æˆ–è€…å‚æ•°ç­‰å¤šä¸ªåœ°æ–¹ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„åŠŸèƒ½ï¼Œå…è®¸å¯¹ç±»çš„è¡Œä¸ºè¿›è¡Œæ‰©å±•ï¼Œè€Œæ— éœ€æ”¹å˜ç±»çš„å®šä¹‰ã€‚ è£…é¥°å™¨æœ‰å››ç§ç±»å‹ï¼š ç±»è£…é¥°å™¨ å±æ€§è£…é¥°å™¨ æ–¹æ³•è£…é¥°å™¨ å‚æ•°è£…é¥°å™¨ 12345678910111213141516// ç±»è£…é¥°å™¨function sealed(constructor: Function) &#123; Object.seal(constructor); Object.seal(constructor.prototype);&#125;@sealedclass Greeter &#123; greeting: string; constructor(message: string) &#123; this.greeting = message; &#125; greet() &#123; return &#x27;Hello, &#x27; + this.greeting; &#125;&#125; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ@sealedè£…é¥°å™¨ä¼šåœ¨è¿è¡Œæ—¶åº”ç”¨åˆ°Greeterç±»ä¸Šï¼Œå¯¼è‡´æ— æ³•å‘Greeterç±»æ·»åŠ æ–°çš„å±æ€§ï¼Œå¹¶ä¸”å·²æœ‰çš„å±æ€§æ— æ³•åˆ é™¤æˆ–é…ç½®ã€‚ 8.2 åå°„å…ƒæ•°æ®åå°„å…ƒæ•°æ®æ˜¯ä¸€ç§åœ¨è®¾è®¡é˜¶æ®µæ·»åŠ å’Œè¯»å–å…ƒæ•°æ®çš„æ–¹å¼ã€‚åå°„ API åŒ…å«å¾ˆå¤šåŠŸèƒ½ï¼Œå¦‚æŸ¥è¯¢ç±»ï¼Œæ¥å£ï¼Œå‚æ•°å’Œè¿”å›ç±»å‹ç­‰çš„è®¾è®¡ç±»å‹ã€‚è¿™ä¸ºåº“ä½œè€…æä¾›äº†ä¸€ç§æ£€æŸ¥ç±»ç»“æ„çš„å¼ºå¤§å·¥å…·ã€‚ åœ¨ TypeScript ä¸­ä½¿ç”¨åå°„å…ƒæ•°æ®ï¼Œéœ€è¦ä½¿ç”¨reflect-metadataåº“ï¼Œå¹¶åœ¨ tsconfig.json æ–‡ä»¶ä¸­å¼€å¯emitDecoratorMetadataé€‰é¡¹ã€‚ è¿™æ˜¯ä¸€ä¸ªåŸºç¡€çš„åå°„å…ƒæ•°æ®ä½¿ç”¨ä¾‹å­ï¼š 1234567891011121314151617181920import &#x27;reflect-metadata&#x27;;class MyClass &#123; @validate public someMethod(someArg: any) &#123; // Do something &#125;&#125;function validate(target: Object, propertyKey: string | symbol, descriptor: TypedPropertyDescriptor&lt;any&gt;) &#123; let originalMethod = descriptor.value; descriptor.value = function (...args: any[]) &#123; let metadataValue = Reflect.getMetadata(&#x27;design:paramtypes&#x27;, target, propertyKey); if (metadataValue !== someArg) &#123; throw new Error(`Validation failed on argument $&#123;someArg&#125;`); &#125; return originalMethod.apply(this, args); &#125;; return descriptor;&#125; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œvalidateè£…é¥°å™¨ä½¿ç”¨åå°„ API æ¥è·å–someMethodæ–¹æ³•å‚æ•°çš„è®¾è®¡ç±»å‹ï¼Œå¹¶æ£€æŸ¥æ˜¯å¦å’Œæ–¹æ³•è¢«è°ƒç”¨æ—¶ä¼ å…¥çš„å‚æ•°ç±»å‹ä¸€è‡´ã€‚å¦‚æœä¸ä¸€è‡´ï¼Œå°±æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ ç»ƒä¹ 1. å°è£… fetchï¼Œå®ç°ç®€å• axios åŠŸèƒ½123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145// 4ç§è¯·æ±‚æ–¹æ³•type Method = &#x27;GET&#x27; | &#x27;POST&#x27; | &#x27;PUT&#x27; | &#x27;DELETE&#x27;;// è¯·æ±‚é…ç½®interface RequestConfig &#123; url: string; method?: Method; body?: Object; headers?: Record&lt;string, string&gt;;&#125;// ç±»ä¼¼axiosçš„è¿”å›å€¼è®¾ç½®interface AxiosResponse&lt;T = any&gt; &#123; data: T; status: number; statusText: string; headers: Record&lt;string, string&gt;; config: RequestConfig; // å»çœ‹äº†çœ‹axiosæ–‡æ¡£ï¼Œç”¨fetchçš„è¯ï¼Œæä¸åˆ°axiosåº•å±‚XHRä¿¡æ¯ï¼Œç©ºç€ç®—äº† request: &#123;&#125;;&#125;class MyAxios &#123; // æ·»åŠ è¯·æ±‚å’Œå“åº”æ‹¦æˆªå™¨æ•°ç»„ requestInterceptors: Array&lt;(config: RequestConfig) =&gt; RequestConfig&gt; = []; responseInterceptors: Array&lt;(response: AxiosResponse&lt;any&gt;) =&gt; AxiosResponse&lt;any&gt;&gt; = []; // åœ¨å‘é€è¯·æ±‚å‰å¯ä»¥æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨ useRequestInterceptor(interceptor: (config: RequestConfig) =&gt; RequestConfig): void &#123; this.requestInterceptors.push(interceptor); &#125; // åœ¨æ”¶åˆ°å“åº”åå¯ä»¥æ·»åŠ å“åº”æ‹¦æˆªå™¨ useResponseInterceptor(interceptor: (response: AxiosResponse&lt;any&gt;) =&gt; AxiosResponse&lt;any&gt;): void &#123; this.responseInterceptors.push(interceptor); &#125; // fetchè¯·æ±‚è°ƒç”¨ private async request&lt;T = any&gt;(config: RequestConfig, method: Method): Promise&lt;AxiosResponse&lt;T&gt;&gt; &#123; // è¯·æ±‚æ‹¦æˆªå™¨ this.requestInterceptors.forEach((interceptor) =&gt; &#123; config = interceptor(config); &#125;); const res: Response = await fetch(config.url, &#123; method, body: config.body ? JSON.stringify(config.body) : undefined, headers: &#123; &#x27;Content-Type&#x27;: &#x27;application/json&#x27;, ...config.headers, &#125;, &#125;); // å¤„ç†fetchçš„è¿”å›å€¼è®©å®ƒæ›´åƒaxiosçš„è¿”å›å€¼ if (!res.ok) &#123; throw new Error(`$&#123;res.status&#125; $&#123;res.statusText&#125;`); &#125; const data: T = await res.json(); // statuså’ŒstatusTextä¸€æ ·ï¼Œå°±ä¸ç”¨å•ç‹¬å¤„ç†ï¼Œåé¢ç›´æ¥èµ‹å€¼ const headers: Record&lt;string, string&gt; = &#123;&#125;; res.headers.forEach((value: string, key: string) =&gt; &#123; headers[key] = value; &#125;); let axiosResponse: AxiosResponse&lt;T&gt; = &#123; data, status: res.status, statusText: res.statusText, headers, config, // åªèƒ½ç©ºç€äº† request: &#123;&#125;, &#125;; // å“åº”æ‹¦æˆªå™¨ this.responseInterceptors.forEach((interceptor) =&gt; &#123; axiosResponse = interceptor(axiosResponse); &#125;); return axiosResponse; &#125; // getè¯·æ±‚ï¼Œç”±äºå¯ä»¥ä¼ configæˆ–è€…ç›´æ¥ä¼ urlï¼Œæ‰€ä»¥é‡è½½äº†ä¸€ä¸‹ async get&lt;T = any&gt;(url: string): Promise&lt;AxiosResponse&lt;T&gt;&gt;; async get&lt;T = any&gt;(config: RequestConfig): Promise&lt;AxiosResponse&lt;T&gt;&gt;; async get&lt;T = any&gt;(url_or_config: string | RequestConfig): Promise&lt;AxiosResponse&lt;T&gt;&gt; &#123; let config: RequestConfig; if (typeof url_or_config === &#x27;string&#x27;) &#123; config = &#123; url: url_or_config &#125;; &#125; else &#123; config = url_or_config; &#125; return await this.request&lt;T&gt;(config, &#x27;GET&#x27;); &#125; // postè¯·æ±‚ async post&lt;T = any&gt;(config: RequestConfig): Promise&lt;AxiosResponse&lt;T&gt;&gt; &#123; return await this.request&lt;T&gt;(config, &#x27;POST&#x27;); &#125; // putè¯·æ±‚ async put&lt;T = any&gt;(config: RequestConfig): Promise&lt;AxiosResponse&lt;T&gt;&gt; &#123; return await this.request&lt;T&gt;(config, &#x27;PUT&#x27;); &#125; // deleteè¯·æ±‚ async delete&lt;T = any&gt;(config: RequestConfig): Promise&lt;AxiosResponse&lt;T&gt;&gt; &#123; return await this.request&lt;T&gt;(config, &#x27;DELETE&#x27;); &#125;&#125;const myAxios: MyAxios = new MyAxios();// æµ‹è¯•get// æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨ï¼Œæ·»åŠ ç»Ÿä¸€çš„è¯·æ±‚å¤´myAxios.useRequestInterceptor((config: RequestConfig) =&gt; &#123; config.headers = &#123; ...config.headers, &#x27;X-My-Custom-Header&#x27;: &#x27;CustomHeaderValue&#x27;, &#125;; return config;&#125;);// æ·»åŠ å“åº”æ‹¦æˆªå™¨ï¼Œå¯¹å“åº”æ•°æ®è¿›è¡Œä¸€äº›å¤„ç†myAxios.useResponseInterceptor((response: AxiosResponse&lt;any&gt;) =&gt; &#123; // å¯¹å“åº”æ•°æ®è¿›è¡Œå¤„ç†ï¼Œè¿™é‡Œåªæ˜¯ç®€å•çš„åŠ äº†ä¸€ä¸ªå­—æ®µ response.data = &#123; ...response.data, fromInterceptor: &#x27;æ¥è‡ªå“åº”æ‹¦æˆªå™¨ï¼Œè¿™æ˜¯ãƒ„ãƒ¦çš„æ­Œæ›²åˆ—è¡¨:&#x27;, &#125;; return response;&#125;);// å‘é€è¯·æ±‚ï¼ŒæŸ¥çœ‹æ‹¦æˆªå™¨æ˜¯å¦ç”Ÿæ•ˆmyAxios.get(&#x27;http://162.14.111.196:4000/artist/songs?id=34505358&#x27;).then((res: AxiosResponse) =&gt; &#123; console.log(&#x27;æµ‹è¯•get\\n&#x27;); console.log(res); console.log(res.data.fromInterceptor + &#x27;\\n&#x27;); res.data.songs.forEach((song: any) =&gt; &#123; console.log(song.al.name); if (song.tns) &#123; console.log(song.tns[0]); &#125; console.log(); &#125;);&#125;); 2. ç±»å‹ä½“æ“ä¹‹ DeepReadonly123456789101112131415161718type X = &#123; x: &#123; a: 1; b: &#x27;hi&#x27;; c: &#123; d: true; e: &#x27;false&#x27;; f: 3; &#125;; &#125;; y: &#x27;hey&#x27;;&#125;;type DeepReadonly&lt;T&gt; = &#123; readonly [P in keyof T]: T[P] extends object ? DeepReadonly&lt;T[P]&gt; : T[P];&#125;;type Todo = DeepReadonly&lt;X&gt;;","categories":[{"name":"webå‰ç«¯","slug":"webå‰ç«¯","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/"},{"name":"TypeScriptå­¦ä¹ ","slug":"webå‰ç«¯/TypeScriptå­¦ä¹ ","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/TypeScript%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://wishao.me/tags/%E5%89%8D%E7%AB%AF/"},{"name":"æš‘å‡åŸ¹è®­","slug":"æš‘å‡åŸ¹è®­","permalink":"http://wishao.me/tags/%E6%9A%91%E5%81%87%E5%9F%B9%E8%AE%AD/"},{"name":"TypeScript","slug":"TypeScript","permalink":"http://wishao.me/tags/TypeScript/"},{"name":"ç¬”è®°ï¼Œæ‰‹å†™è¿˜åŸ","slug":"ç¬”è®°ï¼Œæ‰‹å†™è¿˜åŸ","permalink":"http://wishao.me/tags/%E7%AC%94%E8%AE%B0%EF%BC%8C%E6%89%8B%E5%86%99%E8%BF%98%E5%8E%9F/"}]},{"title":"reactå…¥é—¨","slug":"reactå…¥é—¨","date":"2023-07-14T13:45:29.000Z","updated":"2023-07-24T09:50:41.963Z","comments":true,"path":"2023/07/14/reactå…¥é—¨/","link":"","permalink":"http://wishao.me/2023/07/14/react%E5%85%A5%E9%97%A8/","excerpt":"è¿›è¡Œä¸€ä¸ª react çš„é€Ÿé€š","text":"è¿›è¡Œä¸€ä¸ª react çš„é€Ÿé€š 1. å»ºç«‹é¡¹ç›®å»ºè®®ç”¨ vite æ­å»ºï¼Œå¾ˆå¿« 1npm create vite@latest ç„¶åé€‰ react æ¨¡æ¿ 2. JSXJSX (JavaScipt XML) å°±æ˜¯ react ä¸­çš„ HTMLï¼Œé€šè¿‡ js çš„è‡ªèº«å¯ç¼–ç¨‹èƒ½åŠ›æ¥åˆ›å»º HTML ç»“æ„ å°†å‘½ä»¤å¼å†™æ³•ç®€åŒ–ä¸ºå£°æ˜å¼å†™æ³• 3. å‡½æ•°å¼ç»„ä»¶æ–° react åŸºæœ¬ä¸ç”¨ class ç»„ä»¶äº†ï¼Œå…¨ç”¨å‡½æ•°å¼ç»„ä»¶ã€‚å®ƒä»¬çš„å„ç§ä¸œè¥¿ä¹Ÿå—å½±å“ï¼Œæƒ³åšå‡½æ•°å¼ç¼–ç¨‹ å‡½æ•°å¼ç»„ä»¶ä¾‹å¦‚: 1234567891011function Hello() &#123; return &lt;div style=&#123;&#123; color: &#x27;red&#x27; &#125;&#125;&gt;Hello World!&lt;/div&gt;;&#125;function App() &#123; return ( &lt;div className=&quot;App&quot;&gt; &lt;Hello&gt;&lt;/Hello&gt; &lt;/div&gt; );&#125; æ³¨æ„å‡½æ•°åé¦–å­—æ¯å¤§å†™ï¼Œreturn çš„ä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªæ ¹ç»„ä»¶ 4. ç»„ä»¶é€šä¿¡çˆ¶ä¼ å­çˆ¶ç»„ä»¶æä¾›éœ€è¦ä¼ é€’çš„æ•°æ® stateç»™å­ç»„ä»¶æ ‡ç­¾æ·»åŠ å±æ€§å€¼ä¸º state ä¸­çš„æ•°æ®å‡½æ•°å¼å­ç»„ä»¶ç›´æ¥é€šè¿‡å‚æ•°è·å– props å¯¹è±¡ï¼Œæ¥æ”¶çˆ¶ç»„ä»¶ä¸­ä¼ è¿‡æ¥çš„å€¼ å­ä¼ çˆ¶æœ¬è´¨æ˜¯å­ç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶ä¼ é€’çš„å‡½æ•°ï¼Œå¹¶å°†æƒ³è¦ä¼ é€’çš„æ•°æ®å½“æˆå‡½æ•°çš„å®å‚ 5. hooksä¸ºäº†æ‹¥æŠ±å‡½æ•°å¼ç¼–ç¨‹æ‰€åšçš„ä¸œè¥¿ã€‚å› ä¸ºçœŸæ­£çš„å‡½æ•°å¼ç¼–ç¨‹ä¸å…è®¸å‡½æ•°æœ‰å‰¯ä½œç”¨ï¼Œä½†æ˜¯è¿™æ˜¯å‰ç«¯ï¼Œç»„ä»¶ä¸å¯é¿å…çš„éœ€è¦æœ‰å‚¨å­˜ä¿¡æ¯ï¼Œäº¤äº’å…¶ä»–ä¸œè¥¿çš„åŠŸèƒ½ï¼Œå°±å¼•å…¥äº† hooks æ¥åšè¿™äº›äº‹ï¼Œå‡è£…è‡ªå·±è¿˜æ˜¯å‡½æ•°å¼ç¼–ç¨‹ã€‚ Hook å°±æ˜¯ Javascript å‡½æ•°ï¼Œä½†æ˜¯åªèƒ½åœ¨å‡½æ•°å¤–å±‚è°ƒç”¨ Hookï¼Œä¸è¦åœ¨å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­æˆ–è€…å­å‡½æ•°ä¸­è°ƒç”¨ï¼›åªèƒ½åœ¨ React çš„å‡½æ•°ç»„ä»¶å’Œè‡ªå®šä¹‰ Hook ä¸­è°ƒç”¨ Hookã€‚ä¸è¦åœ¨å…¶ä»– JavaScript å‡½æ•°ä¸­è°ƒç”¨ useStateuseState æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—åˆå§‹çŠ¶æ€ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå…ƒç´ çš„æ•°ç»„ï¼šå½“å‰çŠ¶æ€å’Œä¸€ä¸ªç”¨äºæ›´æ–°çŠ¶æ€çš„å‡½æ•°ã€‚æ¯”å¦‚ï¼š 1const [count, setCount] = useState(0); åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œcount æ˜¯å½“å‰çš„çŠ¶æ€ï¼ˆåˆå§‹å€¼ä¸º 0ï¼‰ï¼Œè€Œ setCount æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥ç”¨äºæ›´æ–° count çš„å€¼ã€‚ useEffectuseEffect å…è®¸åœ¨å‡½æ•°ç»„ä»¶ä¸­æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œã€‚å®ƒæ¥å—ä¸€ä¸ªå‡½æ•°ï¼ˆé€šå¸¸ç§°ä¹‹ä¸ºâ€œeffectâ€ï¼‰ä½œä¸ºå‚æ•°ã€‚å¯ä»¥åœ¨ effect ä¸­æ‰§è¡Œä»»ä½•å‰¯ä½œç”¨æ“ä½œï¼Œä¾‹å¦‚æ•°æ®è·å–ã€è®¢é˜…æˆ–æ‰‹åŠ¨ä¿®æ”¹ DOMã€‚useEffect è¿˜å¯ä»¥è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å°†åœ¨ç»„ä»¶å¸è½½å‰æˆ–æ›´æ–°å‰æ‰§è¡Œï¼Œå¯ä»¥åœ¨è¿™ä¸ªå‡½æ•°ä¸­æ‰§è¡Œä»»ä½•æ¸…ç†æ“ä½œã€‚ 1234567useEffect(() =&gt; &#123; document.title = `You clicked $&#123;count&#125; times`; return () =&gt; &#123; // cleanup logic goes here &#125;;&#125;, [count]); // ä»…åœ¨ count æ›´æ”¹æ—¶æ›´æ–° useRefuseRef è¿”å›ä¸€ä¸ªå¯å˜çš„ ref å¯¹è±¡ï¼Œå…¶ .current å±æ€§è¢«åˆå§‹åŒ–ä¸ºä¼ å…¥çš„å‚æ•°ï¼ˆinitialValueï¼‰ã€‚è¿”å›çš„ ref å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ã€‚ 123const inputRef = useRef(null);// you can access its current value like thisconsole.log(inputRef.current); useContextuseContext æ¥å—ä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼ˆReact.createContext çš„è¿”å›å€¼ï¼‰å¹¶è¿”å›è¯¥ä¸Šä¸‹æ–‡çš„å½“å‰å€¼ã€‚å½“å‰çš„ä¸Šä¸‹æ–‡å€¼ç”±ä¸Šå±‚ç»„ä»¶ä¸­è·ç¦»å½“å‰ç»„ä»¶æœ€è¿‘çš„ &lt;MyContext.Provider&gt; çš„ value prop å†³å®šã€‚ 123const ThemeContext = React.createContext(&#x27;light&#x27;);const theme = useContext(ThemeContext);console.log(theme); // &quot;light&quot; useReduceruseReducer æ˜¯ä¸€ä¸ªæ›¿ä»£ useState çš„ Hookï¼Œå®ƒæ¥å—ä¸€ä¸ªå½¢å¦‚ (state, action) =&gt; newState çš„ reducerï¼Œå¹¶è¿”å›å½“å‰çš„çŠ¶æ€ä»¥åŠä¸å…¶é…å¥—çš„ dispatch æ–¹æ³•ã€‚ 1234567891011121314151617181920212223const initialState = &#123; count: 0 &#125;;function reducer(state, action) &#123; switch (action.type) &#123; case &#x27;increment&#x27;: return &#123; count: state.count + 1 &#125;; case &#x27;decrement&#x27;: return &#123; count: state.count - 1 &#125;; default: throw new Error(); &#125;&#125;function Counter() &#123; const [state, dispatch] = useReducer(reducer, initialState); return ( &lt;&gt; Count: &#123;state.count&#125; &lt;button onClick=&#123;() =&gt; dispatch(&#123; type: &#x27;decrement&#x27; &#125;)&#125;&gt;-&lt;/button&gt; &lt;button onClick=&#123;() =&gt; dispatch(&#123; type: &#x27;increment&#x27; &#125;)&#125;&gt;+&lt;/button&gt; &lt;/&gt; );&#125;","categories":[{"name":"webå‰ç«¯","slug":"webå‰ç«¯","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/"},{"name":"reactå­¦ä¹ ","slug":"webå‰ç«¯/reactå­¦ä¹ ","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/react%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://wishao.me/tags/%E5%89%8D%E7%AB%AF/"},{"name":"æš‘å‡åŸ¹è®­","slug":"æš‘å‡åŸ¹è®­","permalink":"http://wishao.me/tags/%E6%9A%91%E5%81%87%E5%9F%B9%E8%AE%AD/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://wishao.me/tags/%E7%AC%94%E8%AE%B0/"},{"name":"è‡ªå­¦","slug":"è‡ªå­¦","permalink":"http://wishao.me/tags/%E8%87%AA%E5%AD%A6/"},{"name":"react","slug":"react","permalink":"http://wishao.me/tags/react/"}]},{"title":"Vueå“åº”å¼åŸç†","slug":"Vueå“åº”å¼åŸç†","date":"2023-07-13T07:55:35.000Z","updated":"2023-07-24T09:50:32.689Z","comments":true,"path":"2023/07/13/Vueå“åº”å¼åŸç†/","link":"","permalink":"http://wishao.me/2023/07/13/Vue%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86/","excerpt":"ä¸ºäº†æ·±å…¥ç†è§£ vue çš„å“åº”å¼æ•°æ®ï¼Œæ‰‹å†™è¿˜åŸ refã€reactiveã€computed","text":"ä¸ºäº†æ·±å…¥ç†è§£ vue çš„å“åº”å¼æ•°æ®ï¼Œæ‰‹å†™è¿˜åŸ refã€reactiveã€computed å‰ç½®çŸ¥è¯†è§ JavaScript ç°ä»£æ•™ç¨‹ã€‚åŸºäºæ˜ å°„ï¼Œé›†åˆä¸ä»£ç†å®Œæˆå“åº”å¼æ•°æ® Map å’Œ SetProxy å’Œ Reflectreactiveæ¯”è¾ƒå¤æ‚ï¼Œè€ƒè™‘åˆ°ä¼šæœ‰å¤šä¸ªå“åº”å¼å¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡æœ‰å¤šä¸ªå±æ€§ï¼Œæ¯ä¸ªå±æ€§æœ‰å¤šä¸ªå½±å“å®ƒçš„å‡½æ•°ï¼Œæ‰€ä»¥ç”¨ä¸‰çº§ç»“æ„å‚¨å­˜æœ€é¡¶éƒ¨æ˜¯æ˜¯ä¸ª WeakMapï¼Œå­˜å‚¨çš„æ˜¯é‚£å¤šä¸ªå“åº”å¼å¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡å¯¹åº”ä¸€ä¸ª Mapï¼Œå­˜å‚¨çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¤šä¸ªå±æ€§ï¼Œæ¯ä¸ªå±æ€§å¯¹åº”ä¸€ä¸ª Setï¼Œå­˜å‚¨çš„æ˜¯å½±å“è¿™ä¸ªå±æ€§çš„å¤šä¸ªå‡½æ•°ç„¶åç”¨ proxy ä»£ç†ï¼Œå½“è¯»å–å±æ€§æ—¶ï¼Œè§¦å‘æ”¶é›†ä¾èµ–ï¼Œå½“è®¾ç½®å±æ€§æ—¶ï¼Œè§¦å‘æ›´æ–°ã€‚åŒæ—¶ç”±äºæ²¡æœ‰ç»™å½±å“å‡½æ•°å‘½åï¼Œæ‰€ä»¥è®¾ç½®äº†ä¸€ä¸ªæ•°ç»„å½“å †æ ˆå‚¨å­˜å½±å“å‡½æ•°ï¼Œåº”å¯¹åŒæ—¶æ³¨å†Œå¤šä¸ªå‡½æ•°çš„æƒ…å†µã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192// ä½¿ç”¨ WeakMap æ¥å­˜å‚¨æ¯ä¸ªå¯¹è±¡çš„ä¾èµ–å…³ç³»const targetMap = new WeakMap();// å½“å‰æ´»åŠ¨çš„ effect å‡½æ•°ï¼Œé»˜è®¤ä¸º nulllet activeEffect = null;// ç”¨ä¸€ä¸ªæ•°ç»„æ¥å®ç°å †æ ˆï¼Œå­˜å‚¨æ‰€æœ‰çš„ effect å‡½æ•°let activeEffectStack = [];// effect å‡½æ•°ç”¨äºè®¾ç½®å½“å‰çš„æ´»åŠ¨ effectfunction effect(eff) &#123; try &#123; // æŠŠ eff å‡½æ•°æ·»åŠ åˆ°å †æ ˆä¸­ï¼Œå¹¶è®¾ä¸ºå½“å‰æ´»åŠ¨çš„ effect activeEffectStack.push(eff); activeEffect = eff; // ç«‹å³æ‰§è¡Œ eff å‡½æ•° eff(); &#125; finally &#123; // æ‰§è¡Œå®Œ eff å‡½æ•°åï¼ŒæŠŠå®ƒä»å †æ ˆä¸­ç§»é™¤ï¼Œå¹¶æ¢å¤ä¹‹å‰çš„æ´»åŠ¨ effect activeEffectStack.pop(); activeEffect = activeEffectStack[activeEffectStack.length - 1]; &#125;&#125;// track å‡½æ•°ç”¨äºè®¾ç½®å¯¹è±¡å±æ€§çš„ä¾èµ–function track(target, key) &#123; // åªæœ‰å½“æœ‰æ´»åŠ¨çš„ effect æ—¶æ‰è¿›è¡Œä¾èµ–æ”¶é›† if (activeEffect) &#123; let depsMap = targetMap.get(target); if (!depsMap) &#123; targetMap.set(target, (depsMap = new Map())); &#125; let dep = depsMap.get(key); if (!dep) &#123; depsMap.set(key, (dep = new Set())); &#125; dep.add(activeEffect); &#125;&#125;// trigger å‡½æ•°ç”¨äºè§¦å‘å¯¹è±¡å±æ€§çš„æ›´æ–°function trigger(target, key) &#123; const depsMap = targetMap.get(target); if (depsMap) &#123; const dep = depsMap.get(key); if (dep) &#123; dep.forEach((eff) =&gt; &#123; eff(); &#125;); &#125; &#125;&#125;// reactive å‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªå“åº”å¼çš„å¯¹è±¡ï¼Œä½¿ç”¨äº†proxyæ‹¦æˆªä¿®æ”¹æˆ–è€…è¯»å–function reactive(target) &#123; return new Proxy(target, &#123; get(target, key, receiver) &#123; // ä½¿ç”¨Reflectï¼Œç›´æ¥èƒ½è°ƒç”¨è¿™äº›éšè—çš„åº•å±‚æ–¹æ³• const result = Reflect.get(target, key, receiver); track(target, key); return result; &#125;, set(target, key, value, receiver) &#123; const oldValue = Reflect.get(target, key, receiver); const result = Reflect.set(target, key, value, receiver); if (oldValue !== value) &#123; trigger(target, key); &#125; return result; &#125;, &#125;);&#125;// æµ‹è¯•ä»£ç let product = reactive(&#123; price: 10, quantity: 2 &#125;);let total = 0, salePrice = 0;effect(() =&gt; &#123; total = product.price * product.quantity;&#125;);effect(() =&gt; &#123; salePrice = product.price * 0.9;&#125;);console.log(total, salePrice); // 20 9product.quantity = 5;console.log(total, salePrice); // 50 9product.price = 20;console.log(total, salePrice); // 100 18 æ‹é¡ºä¸€ä¸‹æ­¤æµ‹è¯•ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹: åˆ›å»ºå“åº”å¼å¯¹è±¡ é¦–å…ˆè°ƒç”¨reactiveä¼ å…¥æˆ‘ä»¬è¦å˜æˆå“åº”å¼çš„å¯¹è±¡&#123; price: 10, quantity: 2 &#125;ï¼Œè¿”å›ä¸€ä¸ªç»è¿‡ proxy ä»£ç†çš„å¯¹è±¡ï¼Œå‘½åä¸ºproductã€‚ è®¾ç½®ç¬¬ä¸€ä¸ªå½±å“å‡½æ•° ç„¶åä½¿ç”¨effectè®¾ç½®å½±å“å‡½æ•°ã€‚effectå†…éƒ¨ä¼šå…ˆç»™ä¼ å…¥çš„å½±å“å‡½æ•°åŠ å…¥å †æ ˆé¡¶ï¼Œç„¶åæ‰§è¡Œä¸€æ¬¡æ­¤å‡½æ•°ã€‚æ‰§è¡Œè¿‡ç¨‹ä¸­æ¶‰åŠåˆ°äº†product.price * product.quantityï¼Œä¹Ÿå°±æ˜¯è¯´è¯»å–äº†productï¼Œè¢« proxy çš„ get æ‹¦æˆªåˆ°ã€‚ proxy çš„ get é‡Œä½¿ç”¨productå’Œå®ƒçš„å€¼.priceè°ƒç”¨trackï¼Œåœ¨ä¸‰çº§å‚¨å­˜ç»“æ„é‡Œé€å±‚æ³¨å†Œã€‚æœ€åä¸€å±‚ Set é‡Œæ³¨å†Œäº†å †æ ˆé¡¶çš„é‚£ä¸ªæ‰ä¼ å…¥çš„å½±å“å‡½æ•°ã€‚åŒæ—¶product.quantityä¹Ÿå¹²äº†ä¸€æ ·çš„äº‹ï¼Œä¸è¿‡ç¬¬ä¸€å±‚å·²ç»æœ‰productäº†ï¼Œå°±åœ¨productä¸‹ç¬¬äºŒå±‚æ³¨å†Œ.quantityï¼Œä¹Ÿç»™å®ƒåŠ ä¸Šäº†é‚£ä¸ªå½±å“å‡½æ•°ã€‚ ç»“æŸtrackï¼Œä½¿ç”¨ Reflect çš„ get å†è·å–ä¸€ä¸‹product.priceï¼Œè¿”å›ã€‚ ç»ˆäºç»“æŸäº†è°ƒç”¨è¿™æ¬¡å½±å“å‡½æ•°ï¼Œè¿™ä¸ªå½±å“å‡½æ•°ä¹Ÿä»å †æ ˆé¡¶å¼¹å‡ºã€‚ è®¾ç½®ç¬¬äºŒä¸ªå½±å“å‡½æ•° ç„¶åå°±æ˜¯æ³¨å†Œäº†ç¬¬äºŒä¸ªå½±å“å‡½æ•°ï¼Œä¹Ÿåšäº†ç±»ä¼¼çš„ä¸€å¥—æµç¨‹ï¼Œä¸ºpriceå¤šåŠ äº†ä¸ªå½±å“å‡½æ•°ã€‚ æ‰“å°åˆå§‹å€¼ console.logéƒ¨åˆ†ï¼Œæ²¡å•¥è¯´çš„ï¼Œå°±æ˜¯æ‰“å°ä¿©æ™®é€šå€¼ã€‚å®ƒä»¬åœ¨æ³¨å†Œå½±å“å‡½æ•°çš„æ—¶å€™ï¼Œå› ä¸ºé‚£æ¬¡ç«‹å³æ‰§è¡Œï¼Œè·å¾—äº†æ•°æ®ã€‚ ä¿®æ”¹ product.quantity éšåæ˜¯æ”¹å˜product.quantityçš„å€¼ä¸º 5ï¼Œè¢« proxy çš„ set æ‹¦æˆªåˆ°ï¼Œç¡®è®¤æ˜¯æ›´æ”¹ï¼Œä½¿ç”¨productå’Œ.quantityå±æ€§è°ƒç”¨äº†æ›´æ–°å™¨triggerã€‚æ›´æ–°å™¨åœ¨ä¸‰çº§å‚¨å­˜ç»“æ„é‡Œæ‰¾åˆ°è¿™ä¸ªå¯¹è±¡å’Œå±æ€§ï¼Œæ‰§è¡Œä¸€æ¬¡.quantityæ‰€æœ‰æ³¨å†Œåœ¨ Set é‡Œçš„å½±å“å‡½æ•°ã€‚å®ƒåªæ³¨å†Œäº†ç¬¬ä¸€ä¸ªå½±å“å‡½æ•°ï¼Œå°±æ‰§è¡Œï¼Œé‡æ–°è®¡ç®—äº†totalçš„å€¼ã€‚æ‰“å°ï¼Œå‘ç°äº†totalçš„å˜åŒ–ã€‚ ä¿®æ”¹ product.price ä¸‹é¢æ”¹å˜priceåŒç†ï¼Œproxy çš„ set æ‹¦æˆªï¼Œè°ƒç”¨è§¦å‘å™¨ï¼Œæ‰§è¡Œpriceä¸‹é¢çš„ä¿©å½±å“å‡½æ•°ï¼Œå†æ¬¡æ‰“å°è¾“å‡ºå°±çœ‹è§ä¿©ä¸ªå€¼éƒ½å˜äº†ã€‚ refå› ä¸ºæ¯æ¬¡çš„æ›´æ–°éƒ½éœ€è¦è°ƒç”¨.valueï¼Œæ‰€ä»¥ ref æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦ç”¨ value çš„ get set å°±èƒ½å®ç°è‡ªåŠ¨æ›´æ–°ï¼Œä¸éœ€è¦åƒå®ç° reactive é‚£æ ·ä½¿ç”¨ proxy ä»£ç†æ¥æ‹¦æˆªè¯»å–æˆ–å†™å…¥ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182// ä½¿ç”¨ WeakMap æ¥å­˜å‚¨æ¯ä¸ªå¯¹è±¡çš„ä¾èµ–å…³ç³»const targetMap = new WeakMap();// å½“å‰æ´»åŠ¨çš„ effect å‡½æ•°ï¼Œé»˜è®¤ä¸º nulllet activeEffect = null;// ç”¨ä¸€ä¸ªæ•°ç»„æ¥å®ç°å †æ ˆï¼Œå­˜å‚¨æ‰€æœ‰çš„ effect å‡½æ•°let activeEffectStack = [];// effect å‡½æ•°ç”¨äºè®¾ç½®å½“å‰çš„æ´»åŠ¨ effectfunction effect(eff) &#123; try &#123; // æŠŠ eff å‡½æ•°æ·»åŠ åˆ°å †æ ˆä¸­ï¼Œå¹¶è®¾ä¸ºå½“å‰æ´»åŠ¨çš„ effect activeEffectStack.push(eff); activeEffect = eff; // ç«‹å³æ‰§è¡Œ eff å‡½æ•° eff(); &#125; finally &#123; // æ‰§è¡Œå®Œ eff å‡½æ•°åï¼ŒæŠŠå®ƒä»å †æ ˆä¸­ç§»é™¤ï¼Œå¹¶æ¢å¤ä¹‹å‰çš„æ´»åŠ¨ effect activeEffectStack.pop(); activeEffect = activeEffectStack[activeEffectStack.length - 1]; &#125;&#125;// track å‡½æ•°ç”¨äºè®¾ç½®å¯¹è±¡å±æ€§çš„ä¾èµ–function track(target, key) &#123; // åªæœ‰å½“æœ‰æ´»åŠ¨çš„ effect æ—¶æ‰è¿›è¡Œä¾èµ–æ”¶é›† if (activeEffect) &#123; let depsMap = targetMap.get(target); if (!depsMap) &#123; targetMap.set(target, (depsMap = new Map())); &#125; let dep = depsMap.get(key); if (!dep) &#123; depsMap.set(key, (dep = new Set())); &#125; dep.add(activeEffect); &#125;&#125;// trigger å‡½æ•°ç”¨äºè§¦å‘å¯¹è±¡å±æ€§çš„æ›´æ–°function trigger(target, key) &#123; const depsMap = targetMap.get(target); if (depsMap) &#123; const dep = depsMap.get(key); if (dep) &#123; dep.forEach((effect) =&gt; &#123; effect(); &#125;); &#125; &#125;&#125;// ref å‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªå¯å“åº”çš„å¯¹è±¡function ref(raw) &#123; const r = &#123; _is_ref: true, // æ·»åŠ ä¸€ä¸ªæ ‡è®°ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ª ref å¯¹è±¡ _value: raw, // å­˜å‚¨åŸå§‹å€¼ // å½“è®¿é—® value å±æ€§æ—¶ï¼Œè¿›è¡Œä¾èµ–æ”¶é›† get value() &#123; track(r, &#x27;value&#x27;); return this._value; &#125;, // å½“è®¾ç½® value å±æ€§æ—¶ï¼Œè§¦å‘æ›´æ–° set value(newVal) &#123; this._value = newVal; trigger(r, &#x27;value&#x27;); &#125;, &#125;; return r;&#125;const count = ref(0);console.log(count.value); // 0// åˆ›å»ºä¸€ä¸ª effectï¼Œç›‘å¬ count çš„å˜åŒ–effect(() =&gt; &#123; console.log(`countçš„å€¼æ˜¯: $&#123;count.value&#125;`);&#125;);// æ”¹å˜ count.valueï¼Œè§¦å‘æ›´æ–°count.value++; computedè°ƒç”¨äº†ä¹‹å‰å®Œæˆçš„ ref å®Œæˆ 12345678910111213141516171819202122// å‰é¢å°±æ˜¯ä¸Šé¢refå’Œreactiveçš„ä»£ç // computed å‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªè®¡ç®—å±æ€§function computed(getter) &#123; const result = ref(); effect(() =&gt; (result.value = getter())); return result;&#125;let product = reactive(&#123; price: 10, quantity: 2 &#125;);let salePrice = computed(() =&gt; &#123; return product.price * 0.9;&#125;);let total = computed(() =&gt; &#123; return salePrice.value * product.quantity;&#125;);console.log(total.value, salePrice.value); // 18, 9product.quantity = 5;console.log(total.value, salePrice.value); // 45, 9product.price = 20;console.log(total.value, salePrice.value); // 90, 18 computed å‡½æ•°ç»“åˆäº†è¿™ä¸¤ä¸ªå‡½æ•°çš„åŠŸèƒ½ã€‚é¦–å…ˆç”¨ ref åˆ›å»ºäº†ä¸€ä¸ªå“åº”å¼æ•°æ® resultï¼Œç„¶åç”¨ effect åˆ›å»ºäº†ä¸€ä¸ªå‰¯ä½œç”¨ï¼Œè¿™ä¸ªå‰¯ä½œç”¨çš„ä½œç”¨å°±æ˜¯è®¡ç®—ä¼ å…¥çš„ getter å‡½æ•°ï¼Œå¹¶æŠŠç»“æœèµ‹å€¼ç»™ result.valueã€‚æ‰€ä»¥å½“ getter å‡½æ•°å†…éƒ¨ä½¿ç”¨çš„ä»»ä½•å“åº”å¼æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œgetter å‡½æ•°å°±ä¼šè¢«é‡æ–°è®¡ç®—ï¼Œresult.value ä¹Ÿä¼šè¢«æ›´æ–°ã€‚æœ€åï¼Œcomputed å‡½æ•°è¿”å›è¿™ä¸ª resultï¼Œä¹Ÿæ˜¯ä¸ªå“åº”å¼çš„ï¼ˆrefï¼‰ã€‚å¤–éƒ¨ä»£ç å¯ä»¥é€šè¿‡è¯»å– result.value æ¥è·å–è®¡ç®—çš„ç»“æœï¼Œä¹Ÿå¯ä»¥é€šè¿‡è§‚å¯Ÿ result.value çš„å˜åŒ–æ¥å“åº”è¿™ä¸ªè®¡ç®—ç»“æœçš„å˜åŒ–ã€‚ æ„Ÿæ‚Ÿæ‰‹å†™å®ç°ç¡®å®èƒ½æ·±å…¥ç†è§£ä»£ç ã€‚ã€‚ã€‚","categories":[{"name":"webå‰ç«¯","slug":"webå‰ç«¯","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/"},{"name":"vueå­¦ä¹ ","slug":"webå‰ç«¯/vueå­¦ä¹ ","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/vue%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://wishao.me/tags/%E5%89%8D%E7%AB%AF/"},{"name":"æš‘å‡åŸ¹è®­","slug":"æš‘å‡åŸ¹è®­","permalink":"http://wishao.me/tags/%E6%9A%91%E5%81%87%E5%9F%B9%E8%AE%AD/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://wishao.me/tags/%E7%AC%94%E8%AE%B0/"},{"name":"æ‰‹å†™è¿˜åŸ","slug":"æ‰‹å†™è¿˜åŸ","permalink":"http://wishao.me/tags/%E6%89%8B%E5%86%99%E8%BF%98%E5%8E%9F/"},{"name":"vue","slug":"vue","permalink":"http://wishao.me/tags/vue/"}]},{"title":"å‰ç«¯é›¶ç¢æ‹¾é—","slug":"å‰ç«¯é›¶ç¢æ‹¾é—","date":"2023-07-12T13:45:00.000Z","updated":"2023-11-18T15:35:55.710Z","comments":true,"path":"2023/07/12/å‰ç«¯é›¶ç¢æ‹¾é—/","link":"","permalink":"http://wishao.me/2023/07/12/%E5%89%8D%E7%AB%AF%E9%9B%B6%E7%A2%8E%E6%8B%BE%E9%81%97/","excerpt":"æ±‡æ€»ä¸‹å†™ç€å†™ç€çªç„¶åˆæƒ³èµ·æ¥æˆ–è€…æ‰å¬è¯´çš„ä¸œè¥¿","text":"æ±‡æ€»ä¸‹å†™ç€å†™ç€çªç„¶åˆæƒ³èµ·æ¥æˆ–è€…æ‰å¬è¯´çš„ä¸œè¥¿ htmlç»å¸¸å¿˜çš„æ ‡ç­¾ &lt;hr/&gt;æ¨ªçº¿ emmet è¯­æ³• TAB é”®+æ ‡ç­¾åå¿«é€Ÿç”Ÿæˆæ ‡ç­¾ div*4 ç”Ÿæˆ 4 ä¸ª div ul&gt;li å¿«é€Ÿç”ŸæˆåŒ…å«å…³ç³» div+p å¿«é€Ÿç”Ÿæˆå…„å¼Ÿå…³ç³» span.nar å¿«é€Ÿæ ‡ç­¾å†…ç±»å .aad$*5å¿«é€Ÿä¾æ¬¡ç”Ÿæˆ5ä¸ªaadç±»å(æ— $å°±ç”Ÿä¸€æ ·çš„) div{ä¸œè¥¿} csså»ä¸‹åˆ’çº¿text-decoration: none; å»è¾“å…¥æ¡†ç‚¹å‡»æ—¶è¾¹æ¡†outline:none; :rootè¿™ä¸ªä¼ªç±»è¡¨ç¤º html æ ‡ç­¾ï¼Œè€Œä¸”æ¯”ä»–ç­‰çº§æ›´é«˜ï¼Œæ˜¯ dom æ ‘é‡Œæ ¹ä¸­ä¹‹æ ¹ï¼Œå¯ä»¥å­˜ç‚¹å˜é‡å•¥çš„ var()å‡½æ•°å¯ä»¥è°ƒç”¨å­˜åœ¨çˆ¶èŠ‚ç‚¹é‡Œçš„å˜é‡ ä¸»ä¹‰å˜é‡å‘½åè¦ä»¥ä¸¤ä¸ªæ¨ªæ â€“å¼€å¤´ å±…ä¸­æ›´å¤šæŠ€å·§1. å®šä½æ—¶ç”¨è´Ÿè¾¹è·å±…ä¸­è¿™ä¸ªéœ€è¦å·²çŸ¥å…ƒç´ å¤§å° æ¯”å¦‚è¯´å®šä½æ˜¯left: 50%ï¼Œå…ƒç´ 100pxå®½é‚£å¯ä»¥è®¾ç½®margin-left: -50pxå®ç°å±…ä¸­ 2. å®šä½å’Œ transform å±…ä¸­è¿™ä¸ªä¸éœ€è¦å…ƒç´ å¤§å°ï¼Œå¯ä»¥å¯¹åŠ¨æ€çš„å…ƒç´ è®¾ç½® è®¾ç½®çˆ¶å…ƒç´ position: relativeï¼Œéšåå¯¹å­å…ƒç´ è®¾ç½® 1234position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%); 3. å®šä½å’Œ flex åŒæ—¶ä½¿ç”¨ï¼Œè®©å¤šå…ƒç´ é‡å å±…ä¸­è¿™ä¸ªå¯èƒ½ä¸å¸¸ç”¨ï¼Œä½†ç¡®å®æ¥æºäºæˆ‘ä¸€ä¸ªçœŸå®éœ€æ±‚ æ¯”å¦‚è¯´è¿™æ˜¯ä¸ªå¤©æ°”ä¿¡æ¯å±•ç¤ºï¼Œéœ€è¦åœ¨ä¸€è¡Œå†…åŒä¸€ä¸ªåœ°æ–¹å±•ç¤ºé£åŠ›å’Œæ¹¿åº¦ã€‚çœ‹èµ·æ¥å°±æ˜¯ä¸€è¡Œå­—å¾… 2 ç§’ï¼Œç„¶åå‘ä¸Šç§»åŠ¨æ¸å˜æ¶ˆå¤±ï¼ŒåŒæ—¶å¦ä¸€è¡Œå­—ä»ä¸‹é¢æ¸å˜å‘ä¸Šå‡ºç°ç§»åŠ¨åˆ°åŒä¸€ä½ç½®ï¼Œå¦‚æ­¤å¾ªç¯å±•ç¤ºã€‚ éš¾ç‚¹æ˜¯é£åŠ›å’Œæ¹¿åº¦å­—æ•°ä¸å®šï¼Œæ‰€ä»¥å°±æ²¡åŠæ³•è®©å®ƒå›ºå®šå®½åº¦ã€‚è€Œä¸”åˆå§‹ä½ç½®æ˜¯é‡å çš„ï¼Œå¹¶ä¸”åŠ¨ç”»å·²ç»å ç”¨äº†transformï¼Œä¸Šé¢æ–¹æ¡ˆäºŒç”¨ä¸äº†äº†ï¼Œæœ‰ç‚¹éš¾å¼„ 1234&lt;div class=&quot;humidity-wind&quot;&gt; &lt;div class=&quot;humidity&quot;&gt;æ¹¿åº¦ 45%&lt;/div&gt; &lt;div class=&quot;wind&quot;&gt;ä¸œå—é£ 1çº§&lt;/div&gt;&lt;/div&gt; æˆ‘æ˜¯è¿™ä¹ˆå†™çš„ css 123456789101112131415161718192021222324252627282930313233343536373839404142.humidity-wind &#123; height: 2vh; width: 100vw; position: relative; /* ä½¿é£å‘å’Œæ¹¿åº¦å±…ä¸­ï¼Œæˆ‘å»å±…ç„¶èƒ½è¿™ä¹ˆå†™ï¼ŒåŒ»å­¦å¥‡è¿¹å•Š */ display: flex; justify-content: center;&#125;.humidity-wind &gt; .humidity,.humidity-wind &gt; .wind &#123; position: absolute; animation: scroll-up 10s linear infinite; white-space: nowrap;&#125;.humidity-wind &gt; .wind &#123; opacity: 0; transform: translateY(100%); animation-delay: 5s; /* é£å‘åŠ¨ç”»å»¶è¿Ÿï¼Œç¡®ä¿æ¹¿åº¦æ¶ˆå¤±åå¼€å§‹ */&#125;@keyframes scroll-up &#123; 0% &#123; transform: translateY(100%); opacity: 0; &#125; 5% &#123; transform: translateY(0); opacity: 1; &#125; 50% &#123; transform: translateY(0); opacity: 1; &#125; 55% &#123; transform: translateY(-100%); opacity: 0; &#125; 100% &#123; transform: translateY(-100%); opacity: 0; &#125;&#125; é‡ç‚¹å°±æ˜¯è¿™äº† 12display: flex;justify-content: center; è¿™äº›å’Œposition: absoluteåŒæ—¶ä½¿ç”¨ã€‚å¯ä»¥å°è¯•ä¸€ä¸‹ï¼Œå¦‚æœå»æ‰åŠ¨ç”»çš„ transform çš„è¯ï¼Œæ˜¯ä¸¤ä¸ª div é‡å å±…ä¸­çš„ã€‚ æˆ‘ä»¥å‰ä¸€ç›´ä»¥ä¸ºè®¾äº†å®šä½å°±è„±æ ‡äº†ï¼Œflex ä¸èƒ½å½±å“åˆ°ï¼Œæ²¡æƒ³åˆ°å•Šï¼Œæ˜¯èƒ½åŒæ—¶ç”¨çš„ çœ‹ GPT4 è§£é‡Šçš„æ˜¯ï¼Œå­å…ƒç´ ä½¿ç”¨äº† position: absoluteï¼Œé‚£ä¹ˆè¿™ä¸ªå­å…ƒç´ ä¼šç›¸å¯¹äºè¿™ä¸ªå®¹å™¨è¿›è¡Œå®šä½ï¼Œå¹¶ä¸”ä¹Ÿä¼šç»§æ‰¿å®¹å™¨çš„ align-items å’Œ justify-content å±æ€§ æ€»ä¹‹å¾ˆæœ‰æ„æ€ï¼Œè®°ä¸€ä¸‹ JavaScriptJS è¯»å…ƒç´  css å±æ€§ä½¿ç”¨ xxx.style çš„æ–¹æ³•åªèƒ½è¯»åˆ°å†…è”çš„ cssï¼Œå¤–è”è¯»å‡ºæ¥å…¨æ˜¯ç©ºçš„ å¯ä»¥ç”¨getComputedStyle(elem, [pseudo]) è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰ styleã€‚æ¯”å¦‚ï¼š 1234let computedStyle = getComputedStyle(document.body);console.log(computedStyle.marginTop); // 5pxconsole.log(computedStyle.color); // rgb(255, 0, 0) .reduce() æ–¹æ³•arr.reduce(function(accumulator, item, index, array) &#123; // ...&#125;, [initial]); accumulator â€”â€” æ˜¯ä¸Šä¸€ä¸ªå‡½æ•°è°ƒç”¨çš„ç»“æœï¼Œç¬¬ä¸€æ¬¡ç­‰äº initialï¼ˆå¦‚æœæä¾›äº† initial çš„è¯ï¼‰ã€‚(ç›¸å½“äºä¸€ä¸ªç´¯åŠ å™¨) item â€”â€” å½“å‰çš„æ•°ç»„å…ƒç´ ã€‚ index â€”â€” å½“å‰ç´¢å¼•ã€‚ arr â€”â€” æ•°ç»„æœ¬èº«ã€‚ .replace æ–¹æ³•str.replace(regexp, replacement) ä½¿ç”¨ replacement æ›¿æ¢åœ¨å­—ç¬¦ä¸² str ä¸­æ‰¾åˆ°çš„ regexp çš„åŒ¹é…é¡¹ï¼ˆå¦‚æœå¸¦æœ‰ä¿®é¥°ç¬¦ g åˆ™æ›¿æ¢æ‰€æœ‰åŒ¹é…é¡¹ï¼Œå¦åˆ™åªæ›¿æ¢ç¬¬ä¸€ä¸ªï¼‰ .split æ–¹æ³•str.split(åˆ†éš”ç¬¦) ç”¨ä»¥åˆ›å»ºä¸€ä¸ªä»¥åˆ†éš”ç¬¦ä¸ºåˆ†å‰²æ ‡å¿—çš„æ•°ç»„ .join æ–¹æ³•arr.join(æ’å…¥ç¬¦) è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²æ˜¯ç”±æ•°ç»„æ‰€æœ‰å…ƒç´ æ‹¼æˆï¼Œä¸­é—´å¤¹ç€æ’å…¥ç¬¦ å¦‚æœä¸å†™å°±é»˜è®¤ç”¨,é—´éš”ï¼Œè®©å®ƒæ²¡æœ‰çš„è¯å¾—å†™ç©ºå­—ç¬¦ä¸²&#39;&#39; Array.prototype.slice.call()å¯å°†ç±»æ•°ç»„(arguments,NodeList)ï¼Œå­—ç¬¦ä¸²(String)è½¬æ¢æˆæ•°ç»„ã€‚ ä¸ºä»€ä¹ˆç”¨å®ƒå‘¢ï¼Œå› ä¸ºæ¯”å¦‚ NodeList ç¼ºåƒæ˜¯ map ä¹‹ç±»çš„æ•°ç»„æ–¹æ³•ï¼Œè½¬åŒ–å°±èƒ½ç”¨äº† Object.prototype.toString.call(fn) !&#x3D;&#x3D; â€˜[object Function]â€™åˆ¤æ–­ fn æ˜¯ä¸æ˜¯å‡½æ•° åŠ¨æ€çš„å±…ä¸­é—®é¢˜æ¯”å¦‚è¯´æœ‰ä¸ªæ¡†ï¼Œå®½åº¦å®šæ­»äº†ä½†æ˜¯é«˜åº¦æ²¡å®šï¼Œä½ é¢„å…ˆä¸çŸ¥é“æœ‰å¤šå°‘å†…å®¹ä¼šç»™é«˜åº¦æ’‘æˆå¤šå°‘ï¼Œæ€ä¹ˆä¸Šä¸‹çš„å±…ä¸­ å¯ä»¥å…ˆç”¨å®šä½ï¼Œç»™ä»–è®¾ç½® top:50%ï¼Œç„¶å js ç»™ä»–è´Ÿçš„è¾¹æ¡†ï¼Œæ•°å€¼æ˜¯è‡ªå·±çš„é«˜åº¦ä¸€åŠï¼ˆå½“ç„¶æ˜¯ç”¨ js è·å–å¯è§†é«˜åº¦ï¼‰ xxxx.style.marginTop = &#39;-$&#123;xxxx.offsetHeight / 2&#125;px&#39; å±•å¼€è¿ç®—ç¬¦çš„è¦†å†™å±•å¼€æ“ä½œç¬¦...ä¼šå°†ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å¯æšä¸¾å±æ€§å¤åˆ¶åˆ°æ–°çš„å¯¹è±¡ä¸Šã€‚å¦‚æœåœ¨å±•å¼€æ“ä½œç¬¦ä¹‹åæˆ‘ä»¬å†å®šä¹‰ä¸€ä¸ªä¸å±•å¼€å¯¹è±¡ä¸­åŒåçš„å±æ€§ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°å®šä¹‰çš„å±æ€§çš„å€¼å°†è¦†ç›–å±•å¼€æ“ä½œç¬¦å¤åˆ¶è¿‡æ¥çš„åŒåå±æ€§ã€‚ æ¯”å¦‚è¯´ 12345const obj1 = &#123; a: 1, b: 2 &#125;;const obj2 = &#123; ...obj1, b: 3, c: 4 &#125;;console.log(obj2); // è¾“å‡º &#123; a: 1, b: 3, c: 4 &#125; Object.entries() æ–¹æ³•Object.entries(è¦å¤„ç†çš„å¯¹è±¡) æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•°ç»„ã€‚è¿™ä¸ªæ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯å¦ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­åŒ…å«å¯¹è±¡ä¸­æ¯ä¸ªå±æ€§çš„é”®å’Œå€¼ã€‚å¦‚æœä¼ å…¥çš„æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡æˆ–æ²¡æœ‰å±æ€§çš„å¯¹è±¡ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªç©ºæ•°ç»„ã€‚ ä¾‹å¦‚ï¼Œå‡è®¾æœ‰ä¸€ä¸ªå¯¹è±¡ obj = &#123; a: 1, b: 2 &#125;ï¼Œé‚£ä¹ˆ Object.entries(obj) ä¼šè¿”å› [[&#39;a&#39;, 1], [&#39;b&#39;, 2]]ã€‚","categories":[{"name":"webå‰ç«¯","slug":"webå‰ç«¯","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/"},{"name":"åŸç”Ÿjs","slug":"webå‰ç«¯/åŸç”Ÿjs","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/%E5%8E%9F%E7%94%9Fjs/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://wishao.me/tags/%E5%89%8D%E7%AB%AF/"},{"name":"åŸç”Ÿjs","slug":"åŸç”Ÿjs","permalink":"http://wishao.me/tags/%E5%8E%9F%E7%94%9Fjs/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://wishao.me/tags/%E7%AC%94%E8%AE%B0/"},{"name":"æ‹¾é—","slug":"æ‹¾é—","permalink":"http://wishao.me/tags/%E6%8B%BE%E9%81%97/"}]},{"title":"ReduxçŠ¶æ€ç®¡ç†","slug":"ReduxçŠ¶æ€ç®¡ç†","date":"2023-07-12T13:36:33.000Z","updated":"2023-07-15T13:39:17.924Z","comments":true,"path":"2023/07/12/ReduxçŠ¶æ€ç®¡ç†/","link":"","permalink":"http://wishao.me/2023/07/12/Redux%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86/","excerpt":"ä¸ºäº†æ·±å…¥ç†è§£ Redux çŠ¶æ€ç®¡ç†å·¥å…·ï¼Œæ‰‹å†™ä¸€ä¸ªç®€åŒ–çš„ï¼ˆä¹Ÿæ˜¯ä½œä¸šï¼‰","text":"ä¸ºäº†æ·±å…¥ç†è§£ Redux çŠ¶æ€ç®¡ç†å·¥å…·ï¼Œæ‰‹å†™ä¸€ä¸ªç®€åŒ–çš„ï¼ˆä¹Ÿæ˜¯ä½œä¸šï¼‰ æ‰‹å†™ä¸€ä¸ªç±»ä¼¼ Redux çš„ createStoreï¼Œå®ç°ä¸€ä¸ªç®€å•çš„åˆ—è¡¨å¢åˆ ã€‚ è¾“å…¥åç§°ï¼Œåºå·è‡ªå¢å¹¶ä»¥æ­¤åç§°æ·»åŠ è¿›åˆ—è¡¨ï¼›è¾“å…¥è¦åˆ é™¤çš„åºå·ï¼Œå°±åˆ é™¤å¯¹åº”åºå·çš„è¡Œ index.html 1234567891011121314151617181920&lt;!DOCTYPE html&gt;&lt;html lang=&quot;cn&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt; &lt;title&gt;redux&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;add&quot;&gt; &lt;input type=&quot;text&quot; placeholder=&quot;è¾“å…¥åç§°&quot; /&gt; &lt;button&gt;æ·»åŠ &lt;/button&gt; &lt;/div&gt; &lt;div class=&quot;delete&quot;&gt; &lt;input type=&quot;text&quot; placeholder=&quot;è¾“å…¥è¦åˆ é™¤çš„id&quot; /&gt; &lt;button&gt;åˆ é™¤&lt;/button&gt; &lt;/div&gt; &lt;div class=&quot;show&quot;&gt;&lt;/div&gt; &lt;script src=&quot;./main.js&quot;&gt;&lt;/script&gt; &lt;/body&gt;&lt;/html&gt; main.js 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273const addTextDOM = document.querySelector(&#x27;.add input&#x27;);const addBtnDOM = document.querySelector(&#x27;.add button&#x27;);const deleteTextDOM = document.querySelector(&#x27;.delete input&#x27;);const deleteBtnDOM = document.querySelector(&#x27;.delete button&#x27;);const showDOM = document.querySelector(&#x27;.show&#x27;);// æ‰‹å†™ç®€å•Reduxfunction createStore(reducer) &#123; // é—­åŒ…å†…æ•°æ®ï¼Œä¸€ä¸ªæ˜¯æ‰€å­˜æ•°æ®ï¼Œä¸€ä¸ªæ˜¯æ³¨å†Œçš„å‡½æ•° // åˆå§‹åŒ– state let state = reducer(undefined, &#123;&#125;); const listeners = []; // ä»é—­åŒ…é‡Œè·å–stateçš„å‡½æ•° const getState = () =&gt; state; // æ ¸å¿ƒï¼Œdispatchå‡½æ•°ï¼Œä½¿ç”¨ä¼ å…¥çš„reduceræ›´æ–°stateï¼ŒåŒæ—¶è§¦å‘æ‰€æœ‰æ³¨å†Œçš„å‡½æ•° const dispatch = (action) =&gt; &#123; state = reducer(state, action); listeners.forEach((listener) =&gt; listener()); &#125;; // æ³¨å†Œå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªå–æ¶ˆæ³¨å†Œçš„å‡½æ•° const subscribe = (listener) =&gt; &#123; listeners.push(listener); return () =&gt; &#123; const index = listeners.indexOf(listener); listeners.splice(index, 1); &#125;; &#125;; return &#123; getState, dispatch, subscribe &#125;;&#125;// æ­¤ä¾‹å­çš„reducerï¼Œè¿™é‡Œstateè¿›è¡Œäº†åˆå§‹åŒ–ï¼Œè¿™æ ·è§„å®šäº†stateçš„æ•°æ®ç»“æ„// namesæ•°ç»„é‡Œé¢æ”¾çš„æ˜¯æœ‰idå’Œnameä¿©å±æ€§çš„å¯¹è±¡function reducer(state = &#123; id: 0, names: [] &#125;, action) &#123; switch (action.type) &#123; case &#x27;ADD&#x27;: return &#123; id: state.id + 1, names: [...state.names, &#123; id: state.id, name: action.name &#125;], &#125;; case &#x27;DELETE&#x27;: return &#123; // è¿™é‡Œé‡å†™äº†å±•å¼€å±æ€§ï¼Œè¦†ç›–äº†åŸæ¥çš„names ...state, names: state.names.filter((item) =&gt; item.id !== action.id), &#125;; default: return state; &#125;&#125;// åˆ©ç”¨æ‰‹å†™çš„createStoreå‡½æ•°åˆ›å»ºstoreconst store = createStore(reducer);// æ¸²æŸ“å‡½æ•°function render() &#123; const currentState = store.getState(); // è·å–å½“å‰çš„çŠ¶æ€ showDOM.innerHTML = currentState.names.map((item) =&gt; `&lt;p&gt;åºå·:$&#123;item.id&#125;ï¼Œåç§°:$&#123;item.name&#125;&lt;/p&gt;`).join(&#x27;&#x27;);&#125;// æ³¨å†Œæ¸²æŸ“çš„å‡½æ•°ï¼ŒåŒæ—¶è¿”å›ä¸€ä¸ªå–æ¶ˆæ³¨å†Œçš„å‡½æ•°ï¼ˆè™½ç„¶è¯´æ²¡ç”¨åˆ°å§const unRender = store.subscribe(render);addBtnDOM.addEventListener(&#x27;click&#x27;, () =&gt; &#123; const name = addTextDOM.value; store.dispatch(&#123; type: &#x27;ADD&#x27;, name &#125;); addTextDOM.value = &#x27;&#x27;;&#125;);deleteBtnDOM.addEventListener(&#x27;click&#x27;, () =&gt; &#123; const id = Number(deleteTextDOM.value); store.dispatch(&#123; type: &#x27;DELETE&#x27;, id &#125;); deleteTextDOM.value = &#x27;&#x27;;&#125;);","categories":[{"name":"webå‰ç«¯","slug":"webå‰ç«¯","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/"},{"name":"åŸç”Ÿjs","slug":"webå‰ç«¯/åŸç”Ÿjs","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/%E5%8E%9F%E7%94%9Fjs/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://wishao.me/tags/%E5%89%8D%E7%AB%AF/"},{"name":"åŸç”Ÿjs","slug":"åŸç”Ÿjs","permalink":"http://wishao.me/tags/%E5%8E%9F%E7%94%9Fjs/"},{"name":"æš‘å‡åŸ¹è®­","slug":"æš‘å‡åŸ¹è®­","permalink":"http://wishao.me/tags/%E6%9A%91%E5%81%87%E5%9F%B9%E8%AE%AD/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://wishao.me/tags/%E7%AC%94%E8%AE%B0/"},{"name":"æ‰‹å†™è¿˜åŸ","slug":"æ‰‹å†™è¿˜åŸ","permalink":"http://wishao.me/tags/%E6%89%8B%E5%86%99%E8%BF%98%E5%8E%9F/"}]},{"title":"Vue Pinia","slug":"Vue-Pinia","date":"2023-07-12T03:26:14.000Z","updated":"2023-07-24T09:50:13.211Z","comments":true,"path":"2023/07/12/Vue-Pinia/","link":"","permalink":"http://wishao.me/2023/07/12/Vue-Pinia/","excerpt":"Vue çŠ¶æ€ç®¡ç†åº“ Piniaï¼Œéå¸¸å¥½ç”¨","text":"Vue çŠ¶æ€ç®¡ç†åº“ Piniaï¼Œéå¸¸å¥½ç”¨ PiniaPinia æ˜¯ä¸€æ¬¾è½»é‡çº§çš„ Vue çŠ¶æ€ç®¡ç†åº“ï¼Œå¯ä»¥ä½¿ç”¨å®ƒè·¨ç»„ä»¶æˆ–é¡µé¢å…±äº«çŠ¶æ€ã€‚ ç›¸å½“äºç»„ä»¶çš„ç»„ä»¶ï¼Œå¯ä»¥ç”¨æ¥å®šä¹‰ä¸€äº›å…±ç”¨çš„ä¸œè¥¿ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥ä¼ é€’æ•°æ®ã€‚ èƒ½ç”¨ vue3 çš„ç»„åˆå¼è¯­æ³•æ¥å†™ï¼Œä¸æœ¬æ¥çš„ç»„ä»¶å®Œå…¨ä¸€è‡´ï¼Œéå¸¸ç›´è§‚å¥½ç”¨ 1. å¼•å…¥å…ˆå®‰è£… 1npm i pinia ç„¶ååœ¨ main.js å¼•å…¥ 1234import &#123; createPinia &#125; from &#x27;pinia&#x27;;const app = createApp(App);app.use(pinia); 2. åŸºç¡€ä½¿ç”¨ä¸€èˆ¬æ¥è¯´ï¼Œå…ˆåœ¨ src æ–‡ä»¶å¤¹é‡Œåˆ›å»ºä¸€ä¸ª stores æ–‡ä»¶å¤¹ï¼Œä¸“é—¨å­˜æ”¾ pinia ç»„ä»¶ æ¯”å¦‚å®šä¹‰ä¸€ä¸ªè®¡æ•°å™¨çš„ç»„ä»¶ï¼Œä½¿ç”¨äº†ç»„åˆå¼è¯­æ³•ï¼Œå®šä¹‰ä¸€ä¸ªå“åº”å¼æ•°æ®å’Œä¸€ä¸ªæ–¹æ³• 123456789101112131415import &#123; defineStore &#125; from &#x27;pinia&#x27;;import &#123; ref &#125; from &#x27;vue&#x27;;export const useCounterStore = defineStore(&#x27;counter&#x27;, () =&gt; &#123; const count = ref(0); const increment = () =&gt; &#123; count.value++; &#125;; return &#123; count, increment, &#125;;&#125;); æ­¥éª¤æ˜¯å…ˆå¼•å…¥defineStoreï¼Œä½¿ç”¨å®ƒå®šä¹‰ä¸€ä¸ªç»„ä»¶ä¾›å¯¼å‡ºä½¿ç”¨ ç„¶ååœ¨ vue æ–‡ä»¶é‡Œå¯¼å…¥useCounterStoreï¼Œä½¿ç”¨å˜é‡æ¥æ”¶ï¼Œå°±èƒ½åƒè¿™æ ·ä½¿ç”¨äº† 1234567891011&lt;script setup&gt; import &#123; useCounterStore &#125; from &#x27;./stores/counter&#x27;; const counterStore = useCounterStore(); console.log(counterStore);&lt;/script&gt;&lt;template&gt; &lt;div&gt; &lt;button @click=&quot;counterStore.increment&quot;&gt;&#123;&#123; counterStore.count &#125;&#125;&lt;/button&gt; &lt;/div&gt;&lt;/template&gt; 3. getters å®ç°ä½¿ç”¨computedè®¡ç®—å±æ€§å®ç°ï¼Œç„¶åå¯¼å‡ºï¼Œæ¯”å¦‚ 1const doubleCount = computed(() =&gt; count.value * 2); 4. å¼‚æ­¥è¯·æ±‚æ¯”å¦‚ç½‘ç»œè¯·æ±‚ axiosï¼Œç›´æ¥åœ¨ store é‡Œé¢å†™ï¼Œå†™å®Œå¯¼å‡ºï¼Œå°±èƒ½ç›´æ¥åœ¨å¼•å…¥çš„åœ°æ–¹ç”¨äº† 5. è§£æ„èµ‹å€¼çœ‹ä¹‹å‰çš„ä»£ç ï¼Œå¼•å…¥ä½¿ç”¨çš„æ—¶å€™æ¯æ¬¡éƒ½è¦å†™counterStore.xxxï¼Œå¾ˆå•°å—¦ã€‚ å¯ä»¥ä½¿ç”¨è§£æ„èµ‹å€¼æ¥èµ‹å€¼ç»™å˜é‡ 123const &#123; count, doubleCount &#125; = storeToRefs(counterStore);// æ³¨æ„ï¼Œè¿™ä¸ªæ–¹æ³•åªèƒ½è·å–åˆ°å“åº”å¼æ•°æ®ï¼Œæ²¡æ³•è·å¾—æ–¹æ³•// è·å–æ–¹æ³•ï¼Œæ¯”å¦‚incrementï¼Œç›´æ¥ä¸ç”¨è¿™ä¸ªå‡½æ•°ï¼Œç›´æ¥è§£æ„èµ‹å€¼å°±è¡Œäº†ï¼ˆå› ä¸ºæ˜¯å¼•ç”¨å€¼ï¼‰ æ³¨æ„è¦ç”¨å®ƒçš„storeToRefsæ–¹æ³•ï¼Œä¸ç„¶ç›´æ¥å†™çš„è¯ä¼šä¸¢å¤±å“åº”å¼æ•°æ®çš„ç‰¹æ€§ã€‚è·å–åˆ°çš„æ˜¯å“åº”å¼å¯¹è±¡","categories":[{"name":"webå‰ç«¯","slug":"webå‰ç«¯","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/"},{"name":"vueå­¦ä¹ ","slug":"webå‰ç«¯/vueå­¦ä¹ ","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/vue%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://wishao.me/tags/%E5%89%8D%E7%AB%AF/"},{"name":"æš‘å‡åŸ¹è®­","slug":"æš‘å‡åŸ¹è®­","permalink":"http://wishao.me/tags/%E6%9A%91%E5%81%87%E5%9F%B9%E8%AE%AD/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://wishao.me/tags/%E7%AC%94%E8%AE%B0/"},{"name":"vue","slug":"vue","permalink":"http://wishao.me/tags/vue/"},{"name":"è‡ªå­¦","slug":"è‡ªå­¦","permalink":"http://wishao.me/tags/%E8%87%AA%E5%AD%A6/"}]},{"title":"jsåŸºç¡€å¤ä¹ ","slug":"jsåŸºç¡€å¤ä¹ ","date":"2023-07-11T12:30:37.000Z","updated":"2023-07-24T09:50:06.105Z","comments":true,"path":"2023/07/11/jsåŸºç¡€å¤ä¹ /","link":"","permalink":"http://wishao.me/2023/07/11/js%E5%9F%BA%E7%A1%80%E5%A4%8D%E4%B9%A0/","excerpt":"å¤ä¹ åŸç”Ÿ js çŸ¥è¯†","text":"å¤ä¹ åŸç”Ÿ js çŸ¥è¯† 1. this æŒ‡å‘é—®é¢˜é‡Œçš„ call apply bindcallcallæ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒçš„ä½œç”¨æ˜¯æ”¹å˜å‡½æ•°çš„thisæŒ‡å‘ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç”¨äºæ›¿æ¢thisçš„å€¼ï¼Œåç»­çš„å‚æ•°æ˜¯ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ã€‚ä¾‹å¦‚ï¼š 1234567function showName(age, job) &#123; console.log(`My name is $&#123;this.name&#125;, I&#x27;m $&#123;age&#125; years old and I am a $&#123;job&#125;.`);&#125;let person = &#123; name: &#x27;Tom&#x27; &#125;;showName.call(person, 25, &#x27;engineer&#x27;); // è¾“å‡º: My name is Tom, I&#x27;m 25 years old and I am a engineer. callä¼šç«‹å³æ‰§è¡Œå‡½æ•°ã€‚ applyapplyæ–¹æ³•çš„ä½œç”¨å’Œcallç±»ä¼¼ï¼Œéƒ½æ˜¯ç”¨äºæ”¹å˜å‡½æ•°çš„thisæŒ‡å‘ï¼Œä¸è¿‡applyæ¥æ”¶çš„å‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ç±»æ•°ç»„å¯¹è±¡ï¼‰ï¼Œç¬¬ä¸€ä¸ªå‚æ•°åŒæ ·æ˜¯ç”¨äºæ›¿æ¢thisçš„å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°æ•°ç»„ã€‚ä¾‹å¦‚ï¼š 1234let person = &#123; name: &#x27;Tom&#x27; &#125;;let args = [25, &#x27;engineer&#x27;];showName.apply(person, args); // è¾“å‡º: My name is Tom, I&#x27;m 25 years old and I am a engineer. å’Œcallä¸€æ ·ï¼Œapplyä¹Ÿä¼šç«‹å³æ‰§è¡Œå‡½æ•°ã€‚ bindbindæ–¹æ³•ä¹Ÿæ˜¯ç”¨äºæ”¹å˜å‡½æ•°çš„thisæŒ‡å‘ï¼Œå®ƒçš„ä½¿ç”¨æ–¹æ³•å’Œcallç±»ä¼¼ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç”¨äºæ›¿æ¢thisçš„å€¼ï¼Œåç»­çš„å‚æ•°æ˜¯ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ã€‚ä¸è¿‡ï¼Œä¸åŒäºcallå’Œapplyï¼Œbindä¸ä¼šç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚ä¾‹å¦‚ï¼š 12345let person = &#123; name: &#x27;Tom&#x27; &#125;;let newShowName = showName.bind(person, 25, &#x27;engineer&#x27;);newShowName(); // è¾“å‡º: My name is Tom, I&#x27;m 25 years old and I am a engineer. æ€»ç»“ï¼š callå’Œapplyçš„ä¸»è¦ä½œç”¨éƒ½æ˜¯æ”¹å˜å‡½æ•°çš„thisæŒ‡å‘ï¼Œå¹¶ç«‹å³æ‰§è¡Œå‡½æ•°ã€‚å®ƒä»¬çš„åŒºåˆ«ä¸»è¦åœ¨äºå‚æ•°çš„ä¼ é€’æ–¹å¼ï¼Œcallæ˜¯å°†å‚æ•°ä¾æ¬¡ä¼ å…¥ï¼Œè€Œapplyåˆ™æ˜¯ä»¥æ•°ç»„å½¢å¼ä¼ å…¥å‚æ•°ã€‚ bindæ–¹æ³•ä¹Ÿå¯ä»¥æ”¹å˜å‡½æ•°çš„thisæŒ‡å‘ï¼Œä½†ä¸åŒçš„æ˜¯ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå¯ä»¥åœ¨éœ€è¦çš„æ—¶å€™å†å»è°ƒç”¨è¿™ä¸ªæ–°å‡½æ•°ã€‚ 2. äº‹ä»¶ç­‰çº§DOM 0 çº§äº‹ä»¶DOM 0 çº§äº‹ä»¶åˆç§°ä¸ºåŸå§‹äº‹ä»¶æ¨¡å‹ï¼Œå…¶äº‹ä»¶ç»‘å®šæ–¹æ³•éå¸¸ç®€å•ï¼Œç›´æ¥åœ¨ HTML å…ƒç´ ä¸Šé€šè¿‡äº‹ä»¶å±æ€§ï¼ˆå¦‚ onclickã€onloadã€onmouseover ç­‰ï¼‰ç»‘å®š JavaScript å‡½æ•°ï¼Œæˆ–è€…åœ¨ JavaScript ä»£ç ä¸­é€šè¿‡ JavaScript å¯¹è±¡çš„äº‹ä»¶å±æ€§è¿›è¡Œç»‘å®šã€‚ ä¾‹å¦‚ï¼š 12345678// é€šè¿‡ HTML å±æ€§ç›´æ¥æŒ‡å®š&lt;button onclick=&quot;console.log(&#x27;Button clicked!&#x27;)&quot;&gt;Click me&lt;/button&gt;;// é€šè¿‡ JavaScript æŒ‡å®šlet button = document.getElementById(&#x27;myButton&#x27;);button.onclick = function () &#123; console.log(&#x27;Button clicked!&#x27;);&#125;; æ³¨æ„ï¼Œåœ¨ä½¿ç”¨ DOM 0 çº§äº‹ä»¶æ—¶ï¼ŒåŒä¸€ä¸ªäº‹ä»¶åªèƒ½ç»‘å®šä¸€ä¸ªå¤„ç†å‡½æ•°ï¼Œå¤šæ¬¡è®¾ç½®ä¼šè¦†ç›–ä¹‹å‰çš„å¤„ç†å™¨ã€‚ DOM 2 çº§äº‹ä»¶DOM 2 çº§äº‹ä»¶æä¾›äº†æ›´å¤šçš„äº‹ä»¶ç±»å‹å’Œæ›´ä¸°å¯Œçš„äº‹ä»¶å¤„ç†æ–¹å¼ã€‚äº‹ä»¶ç»‘å®šä¸»è¦ä½¿ç”¨ addEventListener å’Œ removeEventListener æ–¹æ³•ã€‚ addEventListener æ–¹æ³•æ¥å—ä¸‰ä¸ªå‚æ•°ï¼šäº‹ä»¶åç§°ï¼Œäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå’Œä¸€ä¸ªå¸ƒå°”å€¼ï¼ˆå¯ä»¥æŒ‡å®šäº‹ä»¶å¤„ç†å™¨åœ¨æ•è·é˜¶æ®µæˆ–è€…å†’æ³¡é˜¶æ®µæ‰§è¡Œï¼‰ã€‚ ä¾‹å¦‚ï¼š 123456789let button = document.getElementById(&#x27;myButton&#x27;);// æ·»åŠ äº‹ä»¶å¤„ç†å™¨button.addEventListener(&#x27;click&#x27;, function () &#123; console.log(&#x27;Button clicked!&#x27;);&#125;);// ç§»é™¤äº‹ä»¶å¤„ç†å™¨button.removeEventListener(&#x27;click&#x27;, handler); ä¸åŒäº DOM 0 çº§äº‹ä»¶ï¼ŒDOM 2 çº§äº‹ä»¶å¯ä»¥ä¸ºåŒä¸€ä¸ªäº‹ä»¶ç»‘å®šå¤šä¸ªå¤„ç†å‡½æ•°ï¼Œè¿™äº›å‡½æ•°å°†æŒ‰ç…§ç»‘å®šé¡ºåºä¾æ¬¡æ‰§è¡Œã€‚åŒæ—¶ï¼Œå¯ä»¥é€šè¿‡ removeEventListener ç§»é™¤ç»‘å®šçš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚ DOM 3 çº§äº‹ä»¶DOM 3 çº§äº‹ä»¶åœ¨ DOM 2 çš„åŸºç¡€ä¸Šï¼Œå¼•å…¥äº†æ›´å¤šçš„äº‹ä»¶ç±»å‹ï¼Œä¾‹å¦‚é”®ç›˜äº‹ä»¶ã€é¼ æ ‡æ»šè½®äº‹ä»¶ç­‰ã€‚æœ‰ä»¥ä¸‹å¸¸è§çš„å‡ ç±»ï¼š é¼ æ ‡äº‹ä»¶ï¼šclickã€dblclickã€mousedownã€mouseupã€mousemoveã€mouseoverã€mouseoutã€mouseenterã€mouseleave ç­‰ã€‚ é”®ç›˜äº‹ä»¶ï¼škeydownã€keyupã€keypressã€‚ è¡¨å•äº‹ä»¶ï¼šfocusã€blurã€changeã€submitã€‚ çª—å£äº‹ä»¶ï¼šscrollã€resizeã€loadã€unloadã€‚ 3. JavaScript ç»§æ‰¿åœ¨ JavaScript ä¸­ï¼Œæœ‰å¤šç§æ–¹æ³•å®ç°å¯¹è±¡çš„ç»§æ‰¿ï¼Œå…¶ä¸­åŒ…æ‹¬åŸå‹é“¾ç»§æ‰¿ã€ç»„åˆç»§æ‰¿ã€åŸå‹å¼ç»§æ‰¿ã€å¯„ç”Ÿå¼ç»§æ‰¿ã€å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼Œä»¥åŠ ES6 ä¸­å¼•å…¥çš„åŸºäº class å…³é”®å­—çš„ç»§æ‰¿ã€‚ åŸå‹é“¾ç»§æ‰¿JavaScript çš„æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘å®ƒçš„åŸå‹ï¼ˆprototypeï¼‰çš„é“¾æ¥ã€‚å½“è¯•å›¾è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœå¯¹è±¡å†…éƒ¨æ²¡æœ‰è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆ JavaScript å°±ä¼šå»å¯¹è±¡çš„åŸå‹ä¸Šæ‰¾è¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšåŸå‹é“¾æŸ¥æ‰¾ã€‚ 1234567891011121314151617function Parent() &#123; this.parentValue = &#x27;parent&#x27;;&#125;Parent.prototype.getParentValue = function () &#123; return this.parentValue;&#125;;function Child() &#123; this.childValue = &#x27;child&#x27;;&#125;// Child ç»§æ‰¿è‡ª ParentChild.prototype = new Parent();let child = new Child();console.log(child.getParentValue()); // &#x27;parent&#x27; ç¼ºç‚¹ï¼šçˆ¶ç±»çš„å¼•ç”¨å±æ€§ä¼šè¢«æ‰€æœ‰å®ä¾‹å…±äº«ï¼Œä¸€ä¸ªå®ä¾‹ä¿®æ”¹äº†çˆ¶ç±»çš„å¼•ç”¨å±æ€§ï¼Œå…¶ä»–å®ä¾‹çš„è¿™ä¸ªå±æ€§ä¹Ÿä¼šè¢«ä¿®æ”¹ã€‚ ç»„åˆç»§æ‰¿ï¼ˆç»å…¸ç»§æ‰¿ï¼‰ç»„åˆç»§æ‰¿æ˜¯ JavaScript æœ€å¸¸ç”¨çš„ç»§æ‰¿æ¨¡å¼ã€‚æ€è·¯æ˜¯ä½¿ç”¨åŸå‹é“¾å®ç°å¯¹åŸå‹å±æ€§å’Œæ–¹æ³•çš„ç»§æ‰¿ï¼Œé€šè¿‡æ„é€ å‡½æ•°æ¥å®ç°å¯¹å®ä¾‹å±æ€§çš„ç»§æ‰¿ã€‚ 12345678910111213141516171819function Parent(value) &#123; this.parentValue = value;&#125;Parent.prototype.getParentValue = function () &#123; return this.parentValue;&#125;;function Child(value, childValue) &#123; Parent.call(this, value); // ç»§æ‰¿å®ä¾‹å±æ€§ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨ Parent() this.childValue = childValue;&#125;// ç»§æ‰¿æ–¹æ³•Child.prototype = new Parent(); // ç¬¬äºŒæ¬¡è°ƒç”¨ Parent()Child.prototype.constructor = Child;let child = new Child(&#x27;parent&#x27;, &#x27;child&#x27;);console.log(child.getParentValue()); // &#x27;parent&#x27; åŸå‹å¼ç»§æ‰¿åŸå‹å¼ç»§æ‰¿çš„æ€è·¯æ˜¯åŸºäºå·²ç»å­˜åœ¨çš„å¯¹è±¡åˆ›å»ºæ–°å¯¹è±¡ï¼ŒåŒæ—¶è¿˜ä¸å¿…å› æ­¤åˆ›å»ºè‡ªå®šä¹‰ç±»å‹ã€‚ 123456789101112131415function object(o) &#123; function F() &#123;&#125; F.prototype = o; return new F();&#125;let parent = &#123; parentValue: &#x27;parent&#x27;, getParentValue: function () &#123; return this.parentValue; &#125;,&#125;;let child = object(parent);console.log(child.getParentValue()); // &#x27;parent&#x27; ES5 é€šè¿‡æ–°å¢ Object.create() æ–¹æ³•è§„èŒƒåŒ–äº†åŸå‹å¼ç»§æ‰¿ã€‚ 12345678910111213141516171819202122232425262728293031323334353637var parent = &#123; name: &#x27;parent&#x27;, getName: function () &#123; return this.name; &#125;, sayHello: function () &#123; console.log(&quot;Hello, I&#x27;m &quot; + this.name); &#125;,&#125;;// åˆ›å»ºæ–°å¯¹è±¡ï¼Œå¹¶ç»§æ‰¿äºparentå¯¹è±¡var child = Object.create(parent);console.log(child.getName()); // è¾“å‡º &quot;parent&quot;child.sayHello(); // è¾“å‡º &quot;Hello, I&#x27;m parent&quot;// å¯ä»¥ç»™æ–°å¯¹è±¡æ·»åŠ æ–°çš„å±æ€§æˆ–è€…è¦†ç›–ç»§æ‰¿æ¥çš„å±æ€§var child2 = Object.create(parent, &#123; name: &#123; // è¦†ç›– name å±æ€§ value: &#x27;child2&#x27;, enumerable: true, writable: true, configurable: true, &#125;, age: &#123; // æ–°å¢ age å±æ€§ value: 10, enumerable: true, writable: true, configurable: true, &#125;,&#125;);console.log(child2.getName()); // è¾“å‡º &quot;child2&quot;child2.sayHello(); // è¾“å‡º &quot;Hello, I&#x27;m child2&quot;console.log(child2.age); // è¾“å‡º 10 å¯„ç”Ÿå¼ç»§æ‰¿å¯„ç”Ÿå¼ç»§æ‰¿çš„æ€è·¯æ˜¯åˆ›å»ºä¸€ä¸ªç”¨äºå°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨å†…éƒ¨ä»¥æŸç§æ–¹å¼æ¥å¢å¼ºå¯¹è±¡ï¼Œæœ€åè¿”å›å¯¹è±¡ã€‚ 1234567891011function createAnother(original) &#123; var clone = object(original); clone.sayHi = function () &#123; console.log(&#x27;hi&#x27;); &#125;; return clone;&#125;let child = createAnother(parent);console.log(child.getParentValue()); // &#x27;parent&#x27;child.sayHi(); // &#x27;hi&#x27; å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿æ˜¯å°†å¯„ç”Ÿå¼ç»§æ‰¿å’Œç»„åˆç»§æ‰¿è¿›è¡Œç»„åˆåº”ç”¨çš„æ–¹æ³•ã€‚è¿™ç§ç±»å‹çš„ç»§æ‰¿æ•ˆç‡è¾ƒé«˜ï¼Œæ˜¯ JavaScript ä¸­æœ€ç†æƒ³çš„ç»§æ‰¿èŒƒå¼ã€‚ 123456789101112131415161718192021222324function Parent(value) &#123; this.parentValue = value;&#125;Parent.prototype.getParentValue = function () &#123; return this.parentValue;&#125;;function Child(value, childValue) &#123; Parent.call(this, value); this.childValue = childValue;&#125;// å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿çš„æ ¸å¿ƒ(function () &#123; // åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å®ä¾‹æ–¹æ³•çš„ &quot;ç±»&quot; var Super = function () &#123;&#125;; Super.prototype = Parent.prototype; // è®©å­ç±»çš„åŸå‹ç­‰äº &quot;ç±»&quot; çš„å®ä¾‹, å®ç°ç»§æ‰¿ Child.prototype = new Super();&#125;)();let child = new Child(&#x27;parent&#x27;, &#x27;child&#x27;);console.log(child.getParentValue()); // &#x27;parent&#x27; ES6 çš„ class ç»§æ‰¿ES6 ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ class å…³é”®å­—æ¥å®šä¹‰ç±»ï¼Œå¹¶é€šè¿‡ extends å’Œ super å…³é”®å­—æ¥å®ç°ç±»çš„ç»§æ‰¿ã€‚ 12345678910111213141516171819class Parent &#123; constructor(value) &#123; this.parentValue = value; &#125; getParentValue() &#123; return this.parentValue; &#125;&#125;class Child extends Parent &#123; constructor(value, childValue) &#123; super(value); // è°ƒç”¨çˆ¶ç±»çš„ constructor(value) this.childValue = childValue; &#125;&#125;let child = new Child(&#x27;parent&#x27;, &#x27;child&#x27;);console.log(child.getParentValue()); // &#x27;parent&#x27; class ç»§æ‰¿çš„èƒŒåå…¶å®æ˜¯åŸå‹é“¾ç»§æ‰¿å’Œæ„é€ å‡½æ•°ç»§æ‰¿çš„ç»„åˆï¼Œæ˜¯è¯­æ³•ç³–ã€‚ 4. äº‹ä»¶å¾ªç¯JavaScript æ˜¯å•çº¿ç¨‹è¯­è¨€ï¼Œä¸ºäº†å®ç°æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥å¼•å…¥äº†äº‹ä»¶å¾ªç¯(Event Loop)ã€‚å®ƒæ˜¯ä¸€ä¸ªæŒç»­è¿è¡Œçš„è¿‡ç¨‹ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå®é™…çš„å¾ªç¯ï¼Œå®ƒåœ¨ç­‰å¾…äº‹ä»¶å‘ç”Ÿæ—¶ç»§ç»­è¿è¡Œã€‚ å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡JavaScript çš„ä»»åŠ¡å¯ä»¥åˆ†ä¸ºå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ å®ä»»åŠ¡ï¼šå¯ä»¥ç†è§£ä¸ºéœ€è¦åœ¨ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­å…¨éƒ¨æ‰§è¡Œå®Œæ¯•çš„ä»»åŠ¡ï¼Œä¾‹å¦‚setTimeoutã€setIntervalã€setImmediate(Node.js ç¯å¢ƒ)ã€I/Oã€UI renderingç­‰ã€‚ å¾®ä»»åŠ¡ï¼šå¯ä»¥ç†è§£ä¸ºéœ€è¦åœ¨å½“å‰ä»»åŠ¡æ‰§è¡Œç»“æŸåç«‹å³æ‰§è¡Œçš„ä»»åŠ¡ï¼Œä¾‹å¦‚Promiseã€process.nextTick(Node.js ç¯å¢ƒ)ã€MutationObserverç­‰ã€‚ äº‹ä»¶å¾ªç¯è¿‡ç¨‹ æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œè¿™å±äºä¸€ä¸ªå®ä»»åŠ¡ã€‚ æ‰§è¡Œå®Œæ‰€æœ‰åŒæ­¥ä»£ç åï¼Œæ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡å‰ï¼Œåœ¨ä¸‹ä¸€ä¸ªå®ä»»åŠ¡å¼€å§‹å‰ï¼Œä¼šæ‰§è¡Œæ‰€æœ‰çš„å¾®ä»»åŠ¡ã€‚ å½“æ‰€æœ‰å¾®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œæœ‰å¯èƒ½éœ€è¦è¿›è¡Œ UI æ¸²æŸ“ã€‚ ç„¶åç»§ç»­ä¸‹ä¸€ä¸ªå®ä»»åŠ¡ï¼Œæ‰§è¡Œå¯¹åº”çš„ä»»åŠ¡é˜Ÿåˆ—ã€‚ å¾ªç¯ä¸Šè¿°æ­¥éª¤ã€‚ ç»å…¸é¢˜ç›®1234567891011121314151617181920212223242526272829303132333435363738394041424344454647console.log(&#x27;1&#x27;);setTimeout(function () &#123; console.log(&#x27;2&#x27;); process.nextTick(function () &#123; console.log(&#x27;3&#x27;); &#125;); new Promise(function (resolve) &#123; console.log(&#x27;4&#x27;); resolve(); &#125;).then(function () &#123; console.log(&#x27;5&#x27;); &#125;);&#125;);new Promise(function (resolve) &#123; console.log(&#x27;7&#x27;); resolve();&#125;).then(function () &#123; console.log(&#x27;8&#x27;);&#125;);async function async1() &#123; console.log(&#x27;6&#x27;); await async2(); console.log(&#x27;9&#x27;);&#125;async function async2() &#123; console.log(&#x27;10&#x27;);&#125;process.nextTick(function () &#123; console.log(&#x27;11&#x27;);&#125;);async1();new Promise(function (resolve) &#123; console.log(&#x27;12&#x27;); resolve();&#125;).then(function () &#123; console.log(&#x27;13&#x27;);&#125;);console.log(&#x27;14&#x27;);// ç­”æ¡ˆ1 7 6 10 12 14 8 11 9 13 2 4 5 3 æ³¨æ„ï¼Œawait åé¢çš„ä¸œè¥¿ç›¸å½“äºnew Promise(function(resolve) &#123;console.log(&#39;7&#39;);resolve();é‡Œé¢çš„console.log(&#39;7&#39;) 5. æ¨¡å—åŒ–AMD (Asynchronous Module Definition)AMD æ˜¯ â€œAsynchronous Module Definitionâ€ çš„ç¼©å†™ï¼Œæ„æ€å°±æ˜¯ â€œå¼‚æ­¥æ¨¡å—å®šä¹‰â€ã€‚å®ƒé‡‡ç”¨å¼‚æ­¥æ–¹å¼åŠ è½½æ¨¡å—ï¼Œæ¨¡å—çš„åŠ è½½ä¸å½±å“åé¢è¯­å¥çš„è¿è¡Œã€‚æ‰€æœ‰ä¾èµ–è¿™ä¸ªæ¨¡å—çš„è¯­å¥ï¼Œéƒ½å®šä¹‰åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œç­‰åˆ°åŠ è½½å®Œæˆä¹‹åï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°æ‰ä¼šè¿è¡Œã€‚AMD çš„ä»£è¡¨å®ç°æ˜¯ RequireJSã€‚ 1234// å®šä¹‰ä¸€ä¸ªæ¨¡å—define(&#x27;module&#x27;, [&#x27;dep1&#x27;, &#x27;dep2&#x27;], function (dep1, dep2) &#123; return someExportedValue;&#125;); CMD (Common Module Definition)CMD æ˜¯ â€œCommon Module Definitionâ€ çš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯ â€œé€šç”¨æ¨¡å—å®šä¹‰â€ã€‚CMD é‡‡ç”¨çš„æ˜¯å¼‚æ­¥åŠ è½½æ¨¡å—ï¼Œå…è®¸æ¨¡å—å’Œæ¨¡å—ä¹‹é—´æœ‰ä¾èµ–å…³ç³»ï¼Œä¹Ÿæ”¯æŒå°±è¿‘ä¾èµ–ï¼Œåªæœ‰åœ¨ç”¨åˆ°æŸä¸ªæ¨¡å—çš„æ—¶å€™å†å»åŠ è½½é‚£ä¸ªæ¨¡å—ã€‚CMD çš„ä»£è¡¨å®ç°æ˜¯ SeaJSã€‚ 1234define(function (require, exports, module) &#123; var dep1 = require(&#x27;dep1&#x27;); exports.action = function () &#123;&#125;;&#125;); CommonJSCommonJS æ˜¯ Node.js æ¨¡å—ç³»ç»Ÿçš„åŸºç¡€ï¼Œå®ƒç”¨äºæœåŠ¡å™¨ã€‚æ¯ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œé€šè¿‡ require æ¥åŠ è½½æ¨¡å—ï¼Œé€šè¿‡ exports æˆ– module.exports æ¥å¯¼å‡ºæ¨¡å—ã€‚CommonJS ä½¿ç”¨åŒæ­¥åŠ è½½æ¨¡å—çš„æ–¹å¼ã€‚ 12var dep1 = require(&#x27;dep1&#x27;);exports.someMethod = function () &#123;&#125;; ES6 ModulesES6 åœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ä¸Šï¼Œå®ç°äº†æ¨¡å—åŠŸèƒ½ï¼Œè€Œä¸”å®ç°å¾—ç›¸å½“ç®€å•ï¼Œæ—¨åœ¨æˆä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šç”¨çš„æ¨¡å—è§£å†³æ–¹æ¡ˆã€‚æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œimport å‘½ä»¤ä¼šè¢« JavaScript å¼•æ“é™æ€åˆ†æï¼Œç”Ÿæˆä¸€ä¸ªåªè¯»å¼•ç”¨ã€‚ç­‰åˆ°è„šæœ¬çœŸæ­£æ‰§è¡Œæ—¶ï¼Œå†æ ¹æ®è¿™ä¸ªåªè¯»å¼•ç”¨ï¼Œåˆ°è¢«åŠ è½½çš„é‚£ä¸ªæ¨¡å—å»å–å€¼ã€‚ 12import &#123; dep1, dep2 &#125; from &#x27;module-name&#x27;;export function someMethod() &#123;&#125; 6. è¿­ä»£å™¨å’Œç”Ÿæˆå™¨è¿­ä»£å™¨ (Iterator)è¿­ä»£å™¨æ˜¯ä¸€ç§ç‰¹æ®Šå¯¹è±¡ï¼Œå®ƒåŒ…å«ä¸€ä¸ªå«åš next çš„æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªç»“æœå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰ä¸¤ä¸ªå±æ€§ï¼š valueï¼šä¸‹ä¸€ä¸ªå€¼ doneï¼šå¸ƒå°”ç±»å‹ï¼Œå¦‚æœæ²¡æœ‰æ›´å¤šçš„æ•°æ®åˆ™ä¸º trueï¼Œå¦åˆ™ä¸º falseã€‚ è¿­ä»£å™¨çš„ç®€å•ç¤ºä¾‹ï¼š 1234567891011121314151617let iterator = &#123; current: 1, next() &#123; let result = &#123; value: null, done: true &#125;; if (this.current &lt;= 3) &#123; result.value = this.current; result.done = false; this.current++; &#125; return result; &#125;,&#125;;console.log(iterator.next().value); // 1console.log(iterator.next().value); // 2console.log(iterator.next().value); // 3console.log(iterator.next().done); // true ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰å’Œ yield å…³é”®å­—ç”Ÿæˆå™¨æ˜¯ä¸€ç§å¯ä»¥è¿”å›å¤šä¸ªè¿ç»­å€¼çš„å‡½æ•°ã€‚æ¢å¥è¯è¯´ï¼Œä¸€ä¸ªç”Ÿæˆå™¨å°±åƒä¸€ä¸ªå·¥å‚ï¼Œåˆ¶é€ ä¸€ç³»åˆ—çš„å€¼ã€‚ç”Ÿæˆå™¨å‡½æ•°é€šè¿‡ * ç¬¦å·æ¥å®šä¹‰ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ yield å…³é”®å­—æ¥äº§ç”Ÿä¸€ä¸ªå€¼ã€‚ å½“ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå®ƒè¿”å›ä¸€ä¸ªç‰¹æ®Šç±»å‹çš„è¿­ä»£å™¨ï¼Œç§°ä¸ºç”Ÿæˆå™¨å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡ä¹ŸåŒ…å«ä¸€ä¸ª next æ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥åœ¨ç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨æ§åˆ¶è¿™ä¸ªæ–¹æ³•çš„è¡Œä¸ºã€‚ ç”Ÿæˆå™¨çš„ç®€å•ç¤ºä¾‹ï¼š 12345678910111213141516171819202122// ä¾‹å­1function* generator() &#123; yield 1; yield 2; yield 3;&#125;let iterator = generator();console.log(iterator.next().value); // 1console.log(iterator.next().value); // 2console.log(iterator.next().value); // 3console.log(iterator.next().done); // true//ä¾‹å­2function* generator() &#123; const dataIn = yield &#x27;This will be replaced by next() argument&#x27;; console.log(dataIn);&#125;const iter = generator();console.log(iter.next()); // è¾“å‡º &#123; value: &#x27;This will be replaced by next() argument&#x27;, done: false &#125;iter.next(&#x27;Hello, generator!&#x27;); // è¾“å‡º &#x27;Hello, generator!&#x27; æ¯æ¬¡è°ƒç”¨ç”Ÿæˆå™¨å¯¹è±¡çš„ next æ–¹æ³•ï¼Œå°±ä¼šæ‰§è¡Œç”Ÿæˆå™¨å‡½æ•°ç›´åˆ°é‡åˆ°ä¸€ä¸ª yield è¯­å¥ã€‚ç„¶åï¼Œyield çš„å€¼å°±æ˜¯ next æ–¹æ³•è¿”å›çš„å€¼ã€‚å½“æ²¡æœ‰æ›´å¤šçš„ yield è¯­å¥æ—¶ï¼Œdone å±æ€§çš„å€¼å°±ä¼šå˜æˆ trueã€‚ next() å‡½æ•°è¿˜å¯ä»¥æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å¯ä»¥ä½œä¸º yield è¯­å¥çš„ç»“æœè¿”å›ç»™ç”Ÿæˆå™¨å†…éƒ¨ã€‚è¿™ä¸ªç‰¹æ€§å¯ä»¥ä½¿å¾—ç”Ÿæˆå™¨å’Œå¤–éƒ¨ç¯å¢ƒè¿›è¡ŒåŒå‘çš„æ•°æ®äº¤æ¢ã€‚æ¯”å¦‚ä¾‹å­ 2 é‡Œè°ƒç”¨ iter.next(&#39;Hello, generator!&#39;)ï¼Œä¼ å…¥çš„å‚æ•° &#39;Hello, generator!&#39; ä¼šä½œä¸ºä¸Šä¸€æ¬¡ yield è¯­å¥çš„ç»“æœï¼Œèµ‹å€¼ç»™ dataIn å˜é‡ã€‚ç„¶åç”Ÿæˆå™¨æ¢å¤æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ª yield è¯­å¥ï¼Œæˆ–è€…ç»“æŸã€‚","categories":[{"name":"webå‰ç«¯","slug":"webå‰ç«¯","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/"},{"name":"å…«è‚¡æ–‡","slug":"webå‰ç«¯/å…«è‚¡æ–‡","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/%E5%85%AB%E8%82%A1%E6%96%87/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://wishao.me/tags/%E5%89%8D%E7%AB%AF/"},{"name":"åŸç”Ÿjs","slug":"åŸç”Ÿjs","permalink":"http://wishao.me/tags/%E5%8E%9F%E7%94%9Fjs/"},{"name":"æš‘å‡åŸ¹è®­","slug":"æš‘å‡åŸ¹è®­","permalink":"http://wishao.me/tags/%E6%9A%91%E5%81%87%E5%9F%B9%E8%AE%AD/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://wishao.me/tags/%E7%AC%94%E8%AE%B0/"},{"name":"å…«è‚¡æ–‡","slug":"å…«è‚¡æ–‡","permalink":"http://wishao.me/tags/%E5%85%AB%E8%82%A1%E6%96%87/"}]},{"title":"åˆè¯†vue","slug":"åˆè¯†vue","date":"2023-07-10T11:00:41.000Z","updated":"2023-07-24T09:49:36.748Z","comments":true,"path":"2023/07/10/åˆè¯†vue/","link":"","permalink":"http://wishao.me/2023/07/10/%E5%88%9D%E8%AF%86vue/","excerpt":"ç¬¬ä¸€å¤© å­¦ä¹ äº† vue åŸºç¡€è¯­æ³•ä»¥åŠ vue3 çš„ç»„åˆå¼ API","text":"ç¬¬ä¸€å¤© å­¦ä¹ äº† vue åŸºç¡€è¯­æ³•ä»¥åŠ vue3 çš„ç»„åˆå¼ API ä¸€ã€vue åŸºç¡€1ã€å¼•å…¥ vueåŸºç¡€ä¸ä½¿ç”¨ä»»ä½•è„šæ‰‹æ¶ï¼Œç›´æ¥åœ¨å¤´éƒ¨ä½¿ç”¨&lt;script src=&quot;https://unpkg.com/vue@3&quot;&gt;&lt;/script&gt;å¼•å…¥ vue åœ¨ body æ ‡ç­¾é‡Œå»ºç«‹ä¸€ä¸ª id ä¸º app çš„ divï¼Œéšååœ¨ script æ ‡ç­¾é‡Œä½¿ç”¨Vue.createApp().mount(&#39;#app&#39;)è¿™å°±æ˜¯ vue çš„æœ€åŸºç¡€çš„å¼•å…¥ 2ã€æœ€ç®€å•çš„ä½¿ç”¨åœ¨ Vue.createApp()ä¸­ä¼ å…¥å¯¹è±¡ï¼Œå¯¹è±¡é‡Œæ·»åŠ  data æ–¹æ³•ï¼Œreturn çš„å°±æ˜¯ vue åŸºæœ¬æ•°æ®ã€‚ 1234567891011Vue.createApp(&#123; data() &#123; return &#123; foods: [ &#123; id: 1, name: &#x27;åŸå‘³é±¿é±¼ä¸&#x27;, image: &#x27;./images/åŸå‘³é±¿é±¼ä¸.png&#x27;, purchased: false &#125;, &#123; id: 2, name: &#x27;è¾£å‘³é±¿é±¼ä¸&#x27;, image: &#x27;./images/è¾£å‘³é±¿é±¼ä¸.png&#x27;, purchased: false &#125;, &#123; id: 3, name: &#x27;ç‚­çƒ§å‘³é±¿é±¼ä¸&#x27;, image: &#x27;./images/ç‚­çƒ§å‘³é±¿é±¼ä¸.png&#x27;, purchased: false &#125;, ], &#125;; &#125;,&#125;).mount(&#x27;#app&#x27;); éšåä¾¿å¯ä»¥åœ¨é‚£ä¸ªç»‘å®šçš„ div ä¸­ä½¿ç”¨åŸºç¡€ vue è¯­æ³•ã€‚ å¹¶ä¸”è¿™é‡Œçš„å¯¹è±¡ä¸åªæœ‰ data æ–¹æ³•ï¼Œè¿˜æœ‰è‹¥å¹²åˆ«çš„æ–¹æ³•ï¼Œæ–¹ä¾¿æ‹†åˆ†ç®¡ç† 3ã€v-for v-bind v-modelv-for æŒ‡ä»¤v-for ç”¨äºæ¸²æŸ“åˆ—è¡¨ï¼ŒåŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š 123&lt;ul&gt; &lt;li v-for=&quot;item in items&quot; :key=&quot;item.id&quot;&gt;&#123;&#123; item.text &#125;&#125;&lt;/li&gt;&lt;/ul&gt; v-for ä¼šéå† items æ•°ç»„ï¼Œå¹¶ä¸ºæ¯ä¸ªå…ƒç´ ç”Ÿæˆä¸€ä¸ª &lt;li&gt; å…ƒç´ ã€‚æ¯ä¸ªå…ƒç´ éƒ½é€šè¿‡ item å˜é‡å¯ä»¥åœ¨æ¨¡æ¿ä¸­è®¿é—®ã€‚key å±æ€§æ˜¯å¿…éœ€çš„ï¼Œç”¨äºæé«˜ Vue è¿½è¸ªæ¯ä¸ªèŠ‚ç‚¹çš„èƒ½åŠ›ï¼Œä»è€Œæé«˜æ¸²æŸ“æ€§èƒ½ã€‚ v-bind æŒ‡ä»¤v-bind ç”¨äºç»‘å®šå…ƒç´ å±æ€§ï¼ŒåŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š 1&lt;button v-bind:disabled=&quot;isButtonDisabled&quot;&gt;Button&lt;/button&gt; v-bind å°†å…ƒç´ çš„ disabled å±æ€§ç»‘å®šåˆ° Vue å®ä¾‹çš„ isButtonDisabled å±æ€§ã€‚å¦‚æœ isButtonDisabled å±æ€§çš„å€¼æ˜¯ trueï¼Œåˆ™æŒ‰é’®ä¼šè¢«ç¦ç”¨ã€‚å®ƒå¸¸ç”¨æ¥åŠ¨æ€è®¾ç½® HTML å±æ€§ã€‚ ç®€å†™å½¢å¼æ˜¯ :ï¼š 1&lt;button :disabled=&quot;isButtonDisabled&quot;&gt;Button&lt;/button&gt; éå¸¸å¸¸ç”¨çš„æ˜¯ç»‘å®šæ•°æ®ï¼Œè¿˜æœ‰ç»‘å®š class ç±»å v-model æŒ‡ä»¤v-model ç”¨äºå®ç°åŒå‘æ•°æ®ç»‘å®šï¼ŒåŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š 1&lt;input v-model=&quot;message&quot; /&gt; v-model å°† input çš„ value å±æ€§å’Œ input çš„ oninput äº‹ä»¶ç»‘å®šåˆ° Vue å®ä¾‹çš„ message å±æ€§ã€‚è¿™æ ·å½“ input å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œmessage å±æ€§ä¹Ÿä¼šéšä¹‹æ›´æ–°ï¼›åä¹‹äº¦ç„¶ã€‚ v-model æ˜¯ Vue æä¾›çš„ä¸€ç§ç‰¹æ®Šè¯­æ³•ç³–ï¼Œæœ¬è´¨ä¸Šå®ƒæ˜¯ v-bind å’Œ v-on çš„ç»“åˆã€‚ 4ã€v-on v-ifv-on æŒ‡ä»¤èƒ½åœ¨ html ä¸Šç»‘å®šæ–¹æ³•ã€‚æ‰€ç»‘å®šçš„æ–¹æ³•å†™åœ¨ App å¯¹è±¡é‡Œçš„ methods å±æ€§é‡Œã€‚æ¯”å¦‚ 1&lt;form v-on:submit=&quot;add&quot;&gt;&lt;/form&gt; å¯ä»¥ç¼©å†™æˆ@ã€‚ç„¶åå†åŠ ä¸Š form è¡¨å•è§¦å‘ submit äº‹ä»¶çš„æ—¶å€™é»˜è®¤ä¼šåˆ·æ–°é¡µé¢ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸éœ€è¦å®ƒæäº¤è¡¨å•ï¼Œæ‰€ä»¥ç”¨ vue æä¾›çš„æ–¹æ³•ä¹‹é—´é˜»æ­¢ï¼Œå†™æˆï¼š 1&lt;form @submit.prevent=&quot;add&quot;&gt;&lt;/form&gt; v-if æŒ‡ä»¤å°±æ˜¯æŠŠ js èƒ½åšçš„åˆ¤æ–­èƒ½å†™åˆ° html æ ‡ç­¾é‡Œï¼Œå¦‚æœæ»¡è¶³æ‰æ˜¾ç¤ºè¿™ä¸ªæ ‡ç­¾ã€‚æ¯”å¦‚ 1&lt;div v-if=&quot;items.length &gt; 3&quot;&gt;&lt;/div&gt; æ»¡è¶³ items çš„é•¿åº¦çš„æ—¶å€™æ‰æ˜¾ç¤ºè¿™ä¸ª div æ ‡ç­¾ è¿˜æœ‰ v-else-if ä¸ v-else å¯ä»¥ç”¨ï¼Œä¸è¿‡å¤šèµ˜è¿° 5ã€æ‹†åˆ†ç»„ä»¶è¿™æ˜¯ vue æœ€æ ¸å¿ƒçš„æ€æƒ³ã€‚æ¯”å¦‚é¦–å…ˆå¯ä»¥æŠŠåŸºç¡€å¯¼å…¥å†™æˆVue.createApp(App).mount(&#39;#app&#39;)ï¼Œç„¶åå°±å¯ä»¥æ–°å»ºä¸€ä¸ªæ–‡ä»¶ App.jsï¼ŒæŠŠä¸œè¥¿éƒ½å†™åœ¨è¿™é‡Œã€‚ç„¶åä½¿ç”¨ es6 çš„å¯¼å‡ºå¯¼å…¥è¯­æ³•æŒ‚è½½ åœ¨ App å¯¹è±¡é‡Œï¼Œæ·»åŠ  template å±æ€§ï¼Œå±æ€§æ˜¯åå¼•å·å­—ç¬¦ä¸²ï¼Œç„¶åå°±å¯ä»¥æŠŠæ‰€æœ‰ä¹‹å‰å†™åœ¨ id ä¸º app çš„ div é‡Œçš„ html å†™åœ¨åå¼•å·é‡Œäº†ã€‚vue ä¼šä¸ºæˆ‘ä»¬æŒ‚è½½å¹¶ä½¿ç”¨ 6ã€ç»†åŒ–æ‹†åˆ†å†åœ¨è¿™ä¸ª app.js å†™å¤šäº†ä¸œè¥¿æ„Ÿè§‰å¤æ‚ï¼Œè¿˜èƒ½ç»†åŒ–æ‹†åˆ†ã€‚æŠŠ App å¯¹è±¡é‡Œçš„æ‰€æœ‰ä¸œè¥¿éƒ½åˆ é™¤ï¼Œåªç•™ä¸€ä¸ª template å±æ€§ï¼Œå†åŠ ä¸€ä¸ª components æ–¹æ³•ï¼Œç”¨ es6 çš„å¯¼å…¥å¯¹è±¡ï¼Œè¿™å°±æ˜¯è¦å¼•å…¥çš„ä¸œè¥¿ã€‚å†æ–°å»ºä¸ªæ–‡ä»¶ï¼Œå†™å’Œ app.js ç±»ä¼¼çš„å¯¹è±¡å¯¼å‡ºã€‚æŠŠä¼ å…¥çš„å¯¹è±¡å†™æˆ html æ ‡ç­¾å†™å…¥ App çš„ template é‡Œï¼Œå®ç°äº†ç»„ä»¶è¿›ä¸€æ­¥ç»†åŒ–æ‹†åˆ† 7ã€çˆ¶å­ç»„ä»¶é€šä¿¡çˆ¶ä¼ å­åœ¨çˆ¶ç»„ä»¶çš„ template é‡Œï¼Œå†™å­ç»„ä»¶çš„ html æ ‡ç­¾æ—¶ï¼Œæ·»åŠ ä¸€ä¸ªå±æ€§ã€‚æ¯”å¦‚ 1&lt;son :message=&quot;mes1&quot;&gt;&lt;/son&gt; ç„¶ååœ¨å­ç»„ä»¶é‡Œæ·»åŠ ä¸€ä¸ª props å±æ€§ï¼Œæ˜¯ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡é‡Œæ˜¯ä¿¡æ¯çš„ååŠ ä¸Šä¿¡æ¯ç±»å‹ï¼Œå°±èƒ½ä¼ å…¥ä¿¡æ¯äº†ã€‚æ¯”å¦‚ 12345&#123; props: &#123; mes1: String, &#125;&#125; å­ä¼ çˆ¶ä½¿ç”¨$emitæ–¹æ³•ï¼Œå­ç»„ä»¶å¯ä»¥å‘çˆ¶ç»„ä»¶å‘é€äº‹ä»¶ã€‚è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯äº‹ä»¶çš„åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯éšäº‹ä»¶ä¸€èµ·å‘é€çš„æ•°æ®ã€‚å½“å­ç»„ä»¶è°ƒç”¨ $emit æ–¹æ³•æ—¶ï¼Œä¼šè§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œè¿™ä¸ªäº‹ä»¶ä¼šå‘ä¸Šå†’æ³¡åˆ°çˆ¶ç»„ä»¶ï¼Œçˆ¶ç»„ä»¶å¯ä»¥é€šè¿‡ v-on æˆ–è€… @ å¯¹è¿™ä¸ªäº‹ä»¶è¿›è¡Œç›‘å¬ï¼Œå¹¶åœ¨å›è°ƒå‡½æ•°ä¸­æ¥æ”¶æ•°æ®ï¼Œå®Œæˆå­ç»„ä»¶åˆ°çˆ¶ç»„ä»¶çš„é€šä¿¡ã€‚ä¸¾ä¾‹ï¼š å­ç»„ä»¶ï¼š 12345678910&#123; template: ` &lt;button @click=&quot;notifyParent&quot;&gt;Click me&lt;/button&gt; ` methods: &#123; notifyParent() &#123; this.$emit(&#x27;childClicked&#x27;, &#x27;Hello, parent!&#x27;); &#125; &#125;&#125; çˆ¶ç»„ä»¶ï¼š 1234567891011121314import ChildComponent from &#x27;./ChildComponent.vue&#x27;;export default &#123; components: &#123; ChildComponent, &#125;, template: ` &lt;child-component @childClicked=&quot;handleChildClick&quot;&gt;&lt;/child-component&gt; `, methods: &#123; handleChildClick(message) &#123; console.log(message); // è¾“å‡º &#x27;Hello, parent!&#x27; &#125;, &#125;,&#125;; èƒ½å¤Ÿç‚¹å‡»å­ç»„ä»¶æŒ‰é’®ï¼Œæ§åˆ¶å°è¾“å‡º Hello, parent! æ„Ÿè§‰è¿™ä¸ªè¯­æ³•æ¯”è¾ƒè´¹è§£ï¼Œå¤§è‡´è¿‡ç¨‹æ˜¯ï¼š é¦–å…ˆï¼Œåœ¨æœ€ç»ˆè¦ç‚¹å‡»çš„å­ç»„ä»¶ä¸Šç»‘å®šå‡½æ•° ç„¶ååœ¨è¿™ä¸ªå‡½æ•°ä¸Šï¼Œä½¿ç”¨$emit æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¼ é€’çš„åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¼ é€’çš„ä¿¡æ¯ã€‚è¿™æ ·åšç­‰äºæ˜¯å‘è°ƒç”¨å®ƒçš„äººæš´éœ²å‡ºäº†ç¬¬ä¸€ä¸ªå‚æ•°å‘½åçš„å±æ€§ å†ç„¶åï¼Œåœ¨çˆ¶ç»„ä»¶é‡Œï¼Œå¯¼å…¥å­ç»„ä»¶ï¼Œåœ¨ template ä¸­ä½¿ç”¨æ­¤ç»„ä»¶ï¼Œå¹¶ç”¨ v-onï¼Œçˆ¶ç»„ä»¶çš„æ–¹æ³•ç›‘å¬æš´éœ²å‡ºæ¥çš„å±æ€§ã€‚ è¿™æ—¶å€™ï¼Œçˆ¶ç»„ä»¶ç›‘å¬å‡½æ•°çš„å®šä¹‰é‡Œå‚æ•°ä¾¿æ˜¯å­ç»„ä»¶ä¼ é€’çš„ä¿¡æ¯ï¼ˆå³ç¬¬äºŒä¸ªå‚æ•°ï¼‰ï¼Œä¾¿èƒ½åœ¨çˆ¶ç»„ä»¶åšä¸€äº›äº‹æƒ…ã€‚æ¯å½“å­ç»„ä»¶çš„å‡½æ•°è¢«è°ƒç”¨ï¼Œçˆ¶ç»„ä»¶çš„ç›‘å¬å‡½æ•°ä¹Ÿå°±è·Ÿç€è¢«è°ƒç”¨ï¼Œå®Œæˆäº†å­ä¼ çˆ¶ã€‚ äºŒã€vue3 ç»„åˆå¼ API åŸºç¡€1ã€å®‰è£…è¿è¡Œä½¿ç”¨ creat-vue è„šæ‰‹æ¶æ„å»º(åŸºäº Vite) 1npm init vue@latest 2ã€åŸºæœ¬æ–‡ä»¶ç»“æ„æ ¹ç›®å½• index.html æ˜¯æœ€ç»ˆå…¥å£ï¼Œæœ€å vue ä¼šæŠŠä¸œè¥¿æŒ‚è½½è‡³æ­¤ å…¶ä»–éƒ½æ˜¯ä¸€äº›å·¥ç¨‹çš„é…ç½®æ–‡ä»¶ srcåœ¨è¿™é‡Œè¿›è¡Œä¸»è¦ä»£ç çš„ä¹¦å†™ App.vue æ ¹ç»„ä»¶æ–‡ä»¶ main.js é¡¹ç›®çš„å…¥å£æ–‡ä»¶ components æ–‡ä»¶å¤¹ å­˜æ”¾é¡¹ç›®ä½¿ç”¨çš„å…¬å…±ç»„ä»¶ assets æ–‡ä»¶å¤¹ å­˜æ”¾æ¯ä¸ªé¡µé¢å¯¹åº”çš„ cssã€js å…¬å…±å‡½æ•°ä»¥åŠå›¾ç‰‡æ–‡ä»¶ publicå…¬å…±èµ„æºç›®å½• distå­˜æ”¾æ‰“åŒ…å¥½ç”Ÿæˆçš„æ–‡ä»¶ 3ã€åŸºæœ¬ä½¿ç”¨ä» App.vue å¼€å§‹vue3 ä½¿ç”¨äº†ç»„åˆå¼è¯­æ³•ï¼Œç®€åŒ–äº† vue2 çš„è¯­æ³•ã€‚åœ¨ &lt;script&gt; æ ‡ç­¾å†…ç¼–å†™ JavaScriptï¼Œ&lt;template&gt; æ ‡ç­¾å†…ç¼–å†™ HTMLã€‚ä½¿ç”¨åŒå¤§æ‹¬å· &#123;&#123; &#125;&#125; åŒ…å«å˜é‡æˆ–è¯­å¥ã€‚ å“åº”å¼æ•°æ®ä½¿ç”¨ reactive() å’Œ ref() ä½¿ HTML ä¸­çš„å˜é‡å¯å˜ï¼Œå³ JavaScript æ›´æ”¹å˜é‡åï¼ŒHTML ä¼šé‡æ–°æ¸²æŸ“æ–°å€¼ã€‚ ref()ï¼šåˆ›å»ºä¸€ä¸ªå“åº”å¼æ•°æ®å¯¹è±¡ã€‚ref() è¿”å›çš„å¯¹è±¡åŒ…å«ä¸€ä¸ª .value å±æ€§ç”¨äºè·å–æˆ–è®¾ç½®å†…éƒ¨å€¼ã€‚ reactive()ï¼šæ¥å—ä¸€ä¸ªæ™®é€šå¯¹è±¡å¹¶è¿”å›å…¶ä»£ç†ï¼Œç­‰åŒäº Vue 2.x çš„Vue.observable()ã€‚ è®¡ç®—å±æ€§ç”¨äºå½±å“å“åº”å¼æ•°æ®ã€‚å®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥æ›´æ”¹å“åº”å¼æ•°æ®ï¼Œå¾—åˆ°çš„ç»“æœä»ç„¶æ˜¯å“åº”å¼çš„ï¼Œå¯ä»¥åœ¨ HTML ä¸­å®æ—¶æ¸²æŸ“ã€‚ ä½¿ç”¨ computed() å‡½æ•°åˆ›å»ºè®¡ç®—å±æ€§ï¼Œè¿™ä¸ªå‡½æ•°æ¥æ”¶ä¸€ä¸ª getter å‡½æ•°å¹¶è¿”å›ä¸€ä¸ªä¸å¯å˜çš„å“åº”å¼ ref å¯¹è±¡ã€‚å½“ä¾èµ–çš„å“åº”å¼æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œgetter å‡½æ•°ä¼šè‡ªåŠ¨é‡æ–°è®¡ç®—ã€‚ æœ€å¥½ä¸è¦ä¼ å…¥æœ‰å‰¯ä½œç”¨çš„å‡½æ•°ã€‚è®¡ç®—å±æ€§æ˜¯åªè¯»çš„ ç›‘å¬ä½¿ç”¨ watch() å‡½æ•°ç›‘å¬æ•°æ®å˜åŒ–ï¼Œæ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ä¼šè§¦å‘å›è°ƒå‡½æ•°ã€‚ 1watch(xxx, (newVal, oldVal) =&gt; &#123;&#125;); immediate å‚æ•°ï¼šæ”¾åœ¨æœ€åï¼Œå¦‚æœæŒ‡å®šäº†è¿™ä¸ªå‚æ•°ï¼Œå°†é¦–å…ˆç«‹å³æ‰§è¡Œä¸€æ¬¡å›è°ƒå‡½æ•°ã€‚ é»˜è®¤ä¸ºæµ…å±‚ç›‘å¬ï¼Œå³å¦‚æœç›‘å¬çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„å±æ€§å‘ç”Ÿå˜åŒ–ä¸ä¼šè°ƒç”¨å›è°ƒå‡½æ•°ã€‚å¦‚æœè¦è¿›è¡Œæ·±åº¦ç›‘å¬ï¼Œéœ€è¦æŒ‡å®š deep å‚æ•°ã€‚ å¦‚æœéœ€è¦ç²¾ç¡®ç›‘å¬æŸä¸ªå±æ€§ï¼Œå¯ä»¥å°†å›è°ƒå‡½æ•°æ”¹å†™ä¸ºä¸¤ä¸ªï¼Œç¬¬ä¸€ä¸ªè¿”å›éœ€è¦ç›‘å¬çš„å±æ€§ã€‚ ç”Ÿå‘½å‘¨æœŸå‡½æ•° onBeforeMount(): åœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è°ƒç”¨ã€‚ onMounted(): åœ¨ç»„ä»¶æŒ‚è½½åˆ° DOM åè°ƒç”¨ï¼Œå¯ä»¥è®¿é—®å’Œæ“ä½œ DOM å…ƒç´ ã€‚ onBeforeUpdate(): åœ¨æ•°æ®æ›´æ–°ï¼Œå¯¼è‡´çš„è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹å‰è°ƒç”¨ã€‚ onUpdated(): åœ¨ç»„ä»¶ DOM å·²ç»æ›´æ–°ï¼Œå³æ•°æ®çš„æ›´æ”¹å·²ç»ä½“ç°åœ¨ DOM ä¸­ä¹‹åè°ƒç”¨ã€‚ onBeforeUnmount(): æ–°çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œåœ¨ç»„ä»¶å¸è½½ä¹‹å‰è¢«è°ƒç”¨ï¼Œå¯ä»¥è¿›è¡Œä¸€äº›æ¸…ç†å·¥ä½œã€‚ onUnmounted(): åœ¨ç»„ä»¶å¸è½½å¹¶ä» DOM ä¸­ç§»é™¤åè¢«è°ƒç”¨ã€‚ æ³¨æ„ï¼š beforeCreate å’Œ created åœ¨ Vue 3 çš„ç»„åˆå¼ API ä¸­æ²¡æœ‰ç›´æ¥çš„ç­‰ä»·ç‰©ã€‚ ç»„ä»¶çˆ¶å­é€šä¿¡ çˆ¶ä¼ å­ï¼šåœ¨è°ƒç”¨å­ç»„ä»¶æ—¶ï¼Œæ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œå³è¦ä¼ é€’çš„ä¿¡æ¯ã€‚å­ç»„ä»¶ä½¿ç”¨ defineProps() æ¥æ¥æ”¶ã€‚å¦‚æœæ˜¯å“åº”å¼æ•°æ®ï¼Œéœ€è¦åœ¨æ·»åŠ å±æ€§æ—¶å‰é¢åŠ ä¸€ä¸ªå†’å· :ã€‚ å­ä¼ çˆ¶ï¼šåœ¨çˆ¶ç»„ä»¶ä¸­å®šä¹‰å˜é‡ï¼Œç„¶ååœ¨ä½¿ç”¨å­ç»„ä»¶æ—¶æ·»åŠ ä¸€ä¸ªå±æ€§æ¥ä¼ é€’ï¼Œå­ç»„ä»¶ä½¿ç”¨åå¯ä»¥ä¼ é€’ä¿¡æ¯ã€‚æ³¨æ„ï¼Œä½¿ç”¨å­ç»„ä»¶æ—¶éœ€è¦åœ¨æ–¹æ³•å‰åŠ  @ï¼Œç„¶åå­ç»„ä»¶é€šè¿‡ defineEmits() å‡½æ•°æ¥ç”Ÿæˆä¼ é€’æ–¹æ³•ã€‚ æ¨¡æ¿å¼•ç”¨ä¸ºäº†è·å– DOM ç»„ä»¶ã€‚ é¦–å…ˆè°ƒç”¨ ref() å‡½æ•°ï¼Œä¼ å…¥ nullï¼Œç„¶ååœ¨æ¨¡æ¿ HTML ä¸­ï¼Œç”¨ ref å±æ€§ç»‘å®šè¯¥å˜é‡ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿™ä¸ªå˜é‡è·å–åˆ° DOMã€‚æ³¨æ„ï¼Œéœ€è¦åœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåæ‰èƒ½è·å–ï¼Œæ‰€ä»¥è¦åœ¨ onMounted ç”Ÿå‘½å‘¨æœŸæˆ–è€…ä¹‹åã€‚ è·¨å±‚ä¼ é€’æ•°æ®å±‚ç»„ä»¶ä½¿ç”¨ provide() å‡½æ•°æä¾›æ•°æ®ï¼Œprovide(&#39;åˆ«å&#39;, æ•°æ®)ã€‚ åº•å±‚ç»„ä»¶ä½¿ç”¨ inject() å‡½æ•°è·å–æ•°æ®ï¼Œinject(&#39;åˆ«å&#39;)ã€‚","categories":[{"name":"webå‰ç«¯","slug":"webå‰ç«¯","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/"},{"name":"vueå­¦ä¹ ","slug":"webå‰ç«¯/vueå­¦ä¹ ","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/vue%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://wishao.me/tags/%E5%89%8D%E7%AB%AF/"},{"name":"æš‘å‡åŸ¹è®­","slug":"æš‘å‡åŸ¹è®­","permalink":"http://wishao.me/tags/%E6%9A%91%E5%81%87%E5%9F%B9%E8%AE%AD/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://wishao.me/tags/%E7%AC%94%E8%AE%B0/"},{"name":"vue","slug":"vue","permalink":"http://wishao.me/tags/vue/"},{"name":"è‡ªå­¦","slug":"è‡ªå­¦","permalink":"http://wishao.me/tags/%E8%87%AA%E5%AD%A6/"}]},{"title":"ç´§æ€¥äº‹ä»¶","slug":"ç´§æ€¥äº‹ä»¶","date":"2023-07-09T18:08:30.000Z","updated":"2023-07-10T14:25:29.000Z","comments":true,"path":"2023/07/10/ç´§æ€¥äº‹ä»¶/","link":"","permalink":"http://wishao.me/2023/07/10/%E7%B4%A7%E6%80%A5%E4%BA%8B%E4%BB%B6/","excerpt":"","text":"æ™šä¸Šæ‰çœ‹è§æš‘å‡é‡Œè¦æ¯æ—¥å†™æ€»ç»“ä¼ åšå®¢ï¼Œé‚æ€¥å¿™æ­å»ºæ­¤ç«™ã€‚ç›®å‰ä¸€åˆ‡éƒ½æ˜¯ä¸´æ—¶çš„ï¼Œåé¢å†åšç†ä¼šã€‚å¤§æ”¹çš„ä¸œè¥¿æœ‰å¾ˆå¤šï¼Œé¡¶éƒ¨æ å®Œå…¨æ²¡å¼„ï¼Œè®¿é—®ç»Ÿè®¡ä¹Ÿæ²¡å¼„ï¼Œå‹é“¾ï¼Œå…³äºæˆ‘ä¹‹ç±»çš„éƒ½è¿˜æ²¡ï¼Œçº¯æ¯›å¯æˆ¿ï¼Œåé¢å†åŠ ","categories":[{"name":"å»ºç«™ä¹‹åˆ","slug":"å»ºç«™ä¹‹åˆ","permalink":"http://wishao.me/categories/%E5%BB%BA%E7%AB%99%E4%B9%8B%E5%88%9D/"}],"tags":[{"name":"ç´§æ€¥äº‹ä»¶","slug":"ç´§æ€¥äº‹ä»¶","permalink":"http://wishao.me/tags/%E7%B4%A7%E6%80%A5%E4%BA%8B%E4%BB%B6/"}],"author":"WiSHao"},{"title":"Hello World","slug":"hello-world","date":"2023-07-09T13:00:00.000Z","updated":"2023-07-15T13:37:00.646Z","comments":true,"path":"2023/07/09/hello-world/","link":"","permalink":"http://wishao.me/2023/07/09/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[{"name":"å»ºç«™ä¹‹åˆ","slug":"å»ºç«™ä¹‹åˆ","permalink":"http://wishao.me/categories/%E5%BB%BA%E7%AB%99%E4%B9%8B%E5%88%9D/"}],"tags":[],"author":"volantis"}],"categories":[{"name":"webå‰ç«¯","slug":"webå‰ç«¯","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/"},{"name":"å°ç¨‹åº","slug":"webå‰ç«¯/å°ç¨‹åº","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"çæŠ˜è…¾","slug":"çæŠ˜è…¾","permalink":"http://wishao.me/categories/%E7%9E%8E%E6%8A%98%E8%85%BE/"},{"name":"Windowsè°ƒæ•™","slug":"çæŠ˜è…¾/Windowsè°ƒæ•™","permalink":"http://wishao.me/categories/%E7%9E%8E%E6%8A%98%E8%85%BE/Windows%E8%B0%83%E6%95%99/"},{"name":"html5æ¸¸æˆ","slug":"webå‰ç«¯/html5æ¸¸æˆ","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/html5%E6%B8%B8%E6%88%8F/"},{"name":"TypeScriptå­¦ä¹ ","slug":"webå‰ç«¯/TypeScriptå­¦ä¹ ","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/TypeScript%E5%AD%A6%E4%B9%A0/"},{"name":"reactå­¦ä¹ ","slug":"webå‰ç«¯/reactå­¦ä¹ ","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/react%E5%AD%A6%E4%B9%A0/"},{"name":"vueå­¦ä¹ ","slug":"webå‰ç«¯/vueå­¦ä¹ ","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/vue%E5%AD%A6%E4%B9%A0/"},{"name":"åŸç”Ÿjs","slug":"webå‰ç«¯/åŸç”Ÿjs","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/%E5%8E%9F%E7%94%9Fjs/"},{"name":"å…«è‚¡æ–‡","slug":"webå‰ç«¯/å…«è‚¡æ–‡","permalink":"http://wishao.me/categories/web%E5%89%8D%E7%AB%AF/%E5%85%AB%E8%82%A1%E6%96%87/"},{"name":"å»ºç«™ä¹‹åˆ","slug":"å»ºç«™ä¹‹åˆ","permalink":"http://wishao.me/categories/%E5%BB%BA%E7%AB%99%E4%B9%8B%E5%88%9D/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://wishao.me/tags/%E5%89%8D%E7%AB%AF/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://wishao.me/tags/%E7%AC%94%E8%AE%B0/"},{"name":"TypeScript","slug":"TypeScript","permalink":"http://wishao.me/tags/TypeScript/"},{"name":"vue","slug":"vue","permalink":"http://wishao.me/tags/vue/"},{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"http://wishao.me/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"æ”¯ä»˜å®å°ç¨‹åº","slug":"æ”¯ä»˜å®å°ç¨‹åº","permalink":"http://wishao.me/tags/%E6%94%AF%E4%BB%98%E5%AE%9D%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"Windows10","slug":"Windows10","permalink":"http://wishao.me/tags/Windows10/"},{"name":"Windows11ï¼ŒDefender","slug":"Windows11ï¼ŒDefender","permalink":"http://wishao.me/tags/Windows11%EF%BC%8CDefender/"},{"name":"å…³é—­","slug":"å…³é—­","permalink":"http://wishao.me/tags/%E5%85%B3%E9%97%AD/"},{"name":"å°è½¯ä»¶","slug":"å°è½¯ä»¶","permalink":"http://wishao.me/tags/%E5%B0%8F%E8%BD%AF%E4%BB%B6/"},{"name":"åŸç”Ÿjs","slug":"åŸç”Ÿjs","permalink":"http://wishao.me/tags/%E5%8E%9F%E7%94%9Fjs/"},{"name":"è‡ªå­¦","slug":"è‡ªå­¦","permalink":"http://wishao.me/tags/%E8%87%AA%E5%AD%A6/"},{"name":"canvas","slug":"canvas","permalink":"http://wishao.me/tags/canvas/"},{"name":"æ¸¸æˆ","slug":"æ¸¸æˆ","permalink":"http://wishao.me/tags/%E6%B8%B8%E6%88%8F/"},{"name":"æš‘å‡åŸ¹è®­","slug":"æš‘å‡åŸ¹è®­","permalink":"http://wishao.me/tags/%E6%9A%91%E5%81%87%E5%9F%B9%E8%AE%AD/"},{"name":"ç¬”è®°ï¼Œæ‰‹å†™è¿˜åŸ","slug":"ç¬”è®°ï¼Œæ‰‹å†™è¿˜åŸ","permalink":"http://wishao.me/tags/%E7%AC%94%E8%AE%B0%EF%BC%8C%E6%89%8B%E5%86%99%E8%BF%98%E5%8E%9F/"},{"name":"react","slug":"react","permalink":"http://wishao.me/tags/react/"},{"name":"æ‰‹å†™è¿˜åŸ","slug":"æ‰‹å†™è¿˜åŸ","permalink":"http://wishao.me/tags/%E6%89%8B%E5%86%99%E8%BF%98%E5%8E%9F/"},{"name":"æ‹¾é—","slug":"æ‹¾é—","permalink":"http://wishao.me/tags/%E6%8B%BE%E9%81%97/"},{"name":"å…«è‚¡æ–‡","slug":"å…«è‚¡æ–‡","permalink":"http://wishao.me/tags/%E5%85%AB%E8%82%A1%E6%96%87/"},{"name":"ç´§æ€¥äº‹ä»¶","slug":"ç´§æ€¥äº‹ä»¶","permalink":"http://wishao.me/tags/%E7%B4%A7%E6%80%A5%E4%BA%8B%E4%BB%B6/"}]}